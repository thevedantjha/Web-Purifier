/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/bad_words.js":
/*!**************************!*\
  !*** ./src/bad_words.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BAD_WORDS: () => (/* binding */ BAD_WORDS)
/* harmony export */ });
const BAD_WORDS = ["abbo", "abo", "abortion", "abuse", "addict", "addicts", "adult", "africa", "african", "alla", "allah", "alligatorbait", "amateur", "american", "anal", "analannie", "analsex", "angie", "angry", "anus", "arab", "arabs", "areola", "argie", "aroused", "arse", "arsehole", "asian", "ass", "assassin", "assassinate", "assassination", "assault", "assbagger", "assblaster", "assclown", "asscowboy", "asses", "assfuck", "assfucker", "asshat", "asshole", "assholes", "asshore", "assjockey", "asskiss", "asskisser", "assklown", "asslick", "asslicker", "asslover", "assman", "assmonkey", "assmunch", "assmuncher", "asspacker", "asspirate", "asspuppies", "assranger", "asswhore", "asswipe", "athletesfoot", "attack", "australian", "babe", "babies", "backdoor", "backdoorman", "backseat", "badfuck", "balllicker", "balls", "ballsack", "banging", "baptist", "barelylegal", "barf", "barface", "barfface", "bast", "bastard", "bazongas", "bazooms", "beaner", "beast", "beastality", "beastial", "beastiality", "beatoff", "beat-off", "beatyourmeat", "beaver", "bestial", "bestiality", "bi", "biatch", "bible", "bicurious", "bigass", "bigbastard", "bigbutt", "bigger", "bisexual", "bi-sexual", "bitch", "bitchass", "bitcher", "bitches", "bitchez", "bitchin", "bitching", "bitchslap", "bitchy", "biteme", "black", "blackman", "blackout", "blacks", "blind", "blow", "blowjob", "boang", "bogan", "bohunk", "bollick", "bollock", "bomb", "bombers", "bombing", "bombs", "bomd", "bondage", "boner", "bong", "boob", "boobies", "boobs", "booby", "boody", "boom", "boong", "boonga", "boonie", "booty", "bootycall", "bountybar", "bra", "brea5t", "breast", "breastjob", "breastlover", "breastman", "brothel", "bugger", "buggered", "buggery", "bullcrap", "bulldike", "bulldyke", "bullshit", "bumblefuck", "bumfuck", "bunga", "bunghole", "buried", "burn", "butchbabes", "butchdike", "butchdyke", "butt", "buttbang", "butt-bang", "buttface", "buttfuck", "butt-fuck", "buttfucker", "butt-fucker", "buttfuckers", "butt-fuckers", "butthead", "buttman", "buttmunch", "buttmuncher", "buttpirate", "buttplug", "buttstain", "byatch", "cacker", "cameljockey", "cameltoe", "canadian", "cancer", "carpetmuncher", "carruth", "catholic", "catholics", "cemetery", "chav", "cherrypopper", "chickslick", "children's", "chin", "chinaman", "chinamen", "chinese", "chink", "chinky", "choad", "chode", "christ", "christian", "church", "cigarette", "cigs", "clamdigger", "clamdiver", "clit", "clitoris", "clogwog", "cocaine", "cock", "cockblock", "cockblocker", "cockcowboy", "cockfight", "cockhead", "cockknob", "cocklicker", "cocklover", "cocknob", "cockqueen", "cockrider", "cocksman", "cocksmith", "cocksmoker", "cocksucer", "cocksuck", "cocksucked", "cocksucker", "cocksucking", "cocktail", "cocktease", "cocky", "cohee", "coitus", "color", "colored", "coloured", "commie", "communist", "condom", "conservative", "conspiracy", "coolie", "cooly", "coon", "coondog", "copulate", "cornhole", "corruption", "cra5h", "crabs", "crack", "crackpipe", "crackwhore", "crack-whore", "crap", "crapola", "crapper", "crappy", "crash", "creamy", "crime", "crimes", "criminal", "criminals", "crotch", "crotchjockey", "crotchmonkey", "crotchrot", "cum", "cumbubble", "cumfest", "cumjockey", "cumm", "cummer", "cumming", "cumquat", "cumqueen", "cumshot", "cunilingus", "cunillingus", "cunn", "cunnilingus", "cunntt", "cunt", "cunteyed", "cuntfuck", "cuntfucker", "cuntlick", "cuntlicker", "cuntlicking", "cuntsucker", "cybersex", "cyberslimer", "dago", "dahmer", "dammit", "damn", "damnation", "damnit", "darkie", "darky", "datnigga", "dead", "deapthroat", "death", "deepthroat", "defecate", "dego", "demon", "deposit", "desire", "destroy", "deth", "devil", "devilworshipper", "dick", "dickbrain", "dickforbrains", "dickhead", "dickless", "dicklick", "dicklicker", "dickman", "dickwad", "dickweed", "diddle", "die", "died", "dies", "dike", "dildo", "dingleberry", "dink", "dipshit", "dipstick", "dirty", "disease", "diseases", "disturbed", "dive", "dix", "dixiedike", "dixiedyke", "doggiestyle", "doggystyle", "dong", "doodoo", "doo-doo", "doom", "dope", "dragqueen", "dragqween", "dripdick", "drug", "drunk", "drunken", "dumb", "dumbass", "dumbbitch", "dumbfuck", "dyefly", "dyke", "easyslut", "eatballs", "eatme", "eatpussy", "ecstacy", "ejaculate", "ejaculated", "ejaculating", "ejaculation", "enema", "enemy", "erect", "erection", "ero", "escort", "ethiopian", "ethnic", "european", "evl", "excrement", "execute", "executed", "execution", "executioner", "explosion", "facefucker", "faeces", "fag", "fagging", "faggot", "fagot", "failed", "failure", "fairies", "fairy", "faith", "fannyfucker", "fart", "farted", "farting", "farty", "fastfuck", "fat", "fatah", "fatass", "fatfuck", "fatfucker", "fatso", "fckcum", "fear", "feces", "felatio", "felch", "felcher", "felching", "fellatio", "feltch", "feltcher", "feltching", "fetish", "fight", "filipina", "filipino", "fingerfood", "fingerfuck", "fingerfucked", "fingerfucker", "fingerfuckers", "fingerfucking", "fire", "firing", "fister", "fistfuck", "fistfucked", "fistfucker", "fistfucking", "fisting", "flange", "flasher", "flatulence", "floo", "flydie", "flydye", "fok", "fondle", "footaction", "footfuck", "footfucker", "footlicker", "footstar", "fore", "foreskin", "forni", "fornicate", "foursome", "fourtwenty", "fraud", "freakfuck", "freakyfucker", "freefuck", "fu", "fubar", "fuc", "fucck", "fuck", "fucka", "fuckable", "fuckass", "fuckbag", "fuckbuddy", "fucked", "fuckedup", "fucker", "fuckers", "fuckface", "fuckfest", "fuckfreak", "fuckfriend", "fuckhead", "fuckher", "fuckin", "fuckina", "fucking", "fuckingbitch", "fuckinnuts", "fuckinright", "fuckit", "fuckknob", "fuckme", "fuckmehard", "fuckmonkey", "fuckoff", "fuckpig", "fucks", "fucktard", "fuckwhore", "fuckyou", "fudgepacker", "fugly", "fuk", "fuks", "funeral", "funfuck", "fungus", "fuuck", "gangbang", "gangbanged", "gangbanger", "gangsta", "gatorbait", "gay", "gaymuthafuckinwhore", "gaysex", "geez", "geezer", "geni", "genital", "german", "getiton", "gin", "ginzo", "gipp", "girls", "givehead", "glazeddonut", "gob", "god", "godammit", "goddamit", "goddammit", "goddamn", "goddamned", "goddamnes", "goddamnit", "goddamnmuthafucker", "goldenshower", "gonorrehea", "gonzagas", "gook", "gotohell", "goy", "goyim", "greaseball", "gringo", "groe", "gross", "grostulation", "gubba", "gummer", "gun", "gyp", "gypo", "gypp", "gyppie", "gyppo", "gyppy", "hamas", "handjob", "hapa", "harder", "hardon", "harem", "headfuck", "headlights", "hebe", "heeb", "hell", "henhouse", "heroin", "herpes", "heterosexual", "hijack", "hijacker", "hijacking", "hillbillies", "hindoo", "hiscock", "hitler", "hitlerism", "hitlerist", "hiv", "ho", "hobo", "hodgie", "hoes", "hole", "holestuffer", "homicide", "homo", "homobangers", "homosexual", "honger", "honk", "honkers", "honkey", "honky", "hook", "hooker", "hookers", "hooters", "hore", "hork", "horn", "horney", "horniest", "horny", "horseshit", "hosejob", "hoser", "hostage", "hotdamn", "hotpussy", "hottotrot", "hummer", "husky", "hussy", "hustler", "hymen", "hymie", "iblowu", "idiot", "idiotic", "ikey", "illegal", "incest", "insest", "intercourse", "interracial", "intheass", "inthebuff", "israel", "israeli", "israel's", "italiano", "itch", "jackass", "jackoff", "jackshit", "jacktheripper", "jade", "jap", "japanese", "japcrap", "jebus", "jeez", "jerkoff", "jesus", "jesuschrist", "jew", "jewish", "jiga", "jigaboo", "jigg", "jigga", "jiggabo", "jigger", "jiggy", "jihad", "jijjiboo", "jimfish", "jism", "jiz", "jizim", "jizjuice", "jizm", "jizz", "jizzim", "jizzum", "joint", "juggalo", "jugs", "junglebunny", "kaffer", "kaffir", "kaffre", "kafir", "kanake", "kid", "kigger", "kike", "kill", "killed", "killer", "killing", "kills", "kink", "kinky", "kissass", "kkk", "knife", "knockers", "kock", "kondum", "koon", "kotex", "krap", "krappy", "kraut", "kum", "kumbubble", "kumbullbe", "kummer", "kumming", "kumquat", "kums", "kunilingus", "kunnilingus", "kunt", "ky", "kyke", "lactate", "laid", "lapdance", "latin", "lesbain", "lesbayn", "lesbian", "lesbin", "lesbo", "lez", "lezbe", "lezbefriends", "lezbo", "lezz", "lezzo", "liberal", "libido", "licker", "lickme", "lies", "limey", "limpdick", "limy", "lingerie", "liquor", "livesex", "loadedgun", "lolita", "looser", "loser", "lotion", "lovebone", "lovegoo", "lovegun", "lovejuice", "lovemuscle", "lovepistol", "loverocket", "lowlife", "lsd", "lubejob", "lucifer", "luckycammeltoe", "lugan", "lynch", "macaca", "mad", "mafia", "magicwand", "mams", "manhater", "manpaste", "marijuana", "mastabate", "mastabater", "masterbate", "masterblaster", "mastrabator", "masturbate", "masturbating", "mattressprincess", "meatbeatter", "meatrack", "meth", "mexican", "mgger", "mggor", "mickeyfinn", "mideast", "milf", "minority", "mockey", "mockie", "mocky", "mofo", "moky", "moles", "molest", "molestation", "molester", "molestor", "moneyshot", "mooncricket", "mormon", "moron", "moslem", "mosshead", "mothafuck", "mothafucka", "mothafuckaz", "mothafucked", "mothafucker", "mothafuckin", "mothafucking", "mothafuckings", "motherfuck", "motherfucked", "motherfucker", "motherfuckin", "motherfucking", "motherfuckings", "motherlovebone", "muff", "muffdive", "muffdiver", "muffindiver", "mufflikcer", "mulatto", "muncher", "munt", "murder", "murderer", "muslim", "naked", "narcotic", "nasty", "nastybitch", "nastyho", "nastyslut", "nastywhore", "nazi", "necro", "negro", "negroes", "negroid", "negro's", "nig", "niger", "nigerian", "nigerians", "nigg", "nigga", "niggah", "niggaracci", "niggard", "niggarded", "niggarding", "niggardliness", "niggardliness's", "niggardly", "niggards", "niggard's", "niggaz", "nigger", "niggerhead", "niggerhole", "niggers", "nigger's", "niggle", "niggled", "niggles", "niggling", "nigglings", "niggor", "niggur", "niglet", "nignog", "nigr", "nigra", "nigre", "nip", "nipple", "nipplering", "nittit", "nlgger", "nlggor", "nofuckingway", "nook", "nookey", "nookie", "noonan", "nooner", "nude", "nudger", "nuke", "nutfucker", "nymph", "ontherag", "oral", "orga", "orgasim", "orgasm", "orgies", "orgy", "osama", "paki", "palesimian", "palestinian", "pansies", "pansy", "panti", "panties", "payo", "pearlnecklace", "peck", "pecker", "peckerwood", "pee", "peehole", "pee-pee", "peepshow", "peepshpw", "pendy", "penetration", "peni5", "penile", "penis", "penises", "penthouse", "period", "perv", "phonesex", "phuk", "phuked", "phuking", "phukked", "phukking", "phungky", "phuq", "pi55", "picaninny", "piccaninny", "pickaninny", "piker", "pikey", "piky", "pimp", "pimped", "pimper", "pimpjuic", "pimpjuice", "pimpsimp", "pindick", "piss", "pissed", "pisser", "pisses", "pisshead", "pissin", "pissing", "pissoff", "pistol", "pixie", "pixy", "playboy", "playgirl", "pocha", "pocho", "pocketpool", "pohm", "polack", "pom", "pommie", "pommy", "poo", "poon", "poontang", "poop", "pooper", "pooperscooper", "pooping", "poorwhitetrash", "popimp", "porchmonkey", "porn", "pornflick", "pornking", "porno", "pornography", "pornprincess", "pot", "poverty", "premature", "pric", "prick", "prickhead", "primetime", "propaganda", "pros", "prostitute", "protestant", "pu55i", "pu55y", "pube", "pubic", "pubiclice", "pud", "pudboy", "pudd", "puddboy", "puke", "puntang", "purinapricness", "puss", "pussie", "pussies", "pussy", "pussycat", "pussyeater", "pussyfucker", "pussylicker", "pussylips", "pussylover", "pussypounder", "pusy", "quashie", "queef", "queer", "quickie", "quim", "ra8s", "rabbi", "racial", "racist", "radical", "radicals", "raghead", "randy", "rape", "raped", "raper", "rapist", "rearend", "rearentry", "rectum", "redlight", "redneck", "reefer", "reestie", "refugee", "reject", "remains", "rentafuck", "republican", "rere", "retard", "retarded", "ribbed", "rigger", "rimjob", "rimming", "roach", "robber", "roundeye", "rump", "russki", "russkie", "sadis", "sadom", "samckdaddy", "sandm", "sandnigger", "satan", "scag", "scallywag", "scat", "schlong", "screw", "screwyou", "scrotum", "scum", "semen", "seppo", "servant", "sex", "sexed", "sexfarm", "sexhound", "sexhouse", "sexing", "sexkitten", "sexpot", "sexslave", "sextogo", "sextoy", "sextoys", "sexual", "sexually", "sexwhore", "sexy", "sexymoma", "sexy-slim", "shag", "shaggin", "shagging", "shat", "shav", "shawtypimp", "sheeney", "shhit", "shinola", "shit", "shitass", "shitcan", "shitdick", "shite", "shiteater", "shited", "shitface", "shitfaced", "shitfit", "shitforbrains", "shitfuck", "shitfucker", "shitfull", "shithapens", "shithappens", "shithead", "shithouse", "shiting", "shitlist", "shitola", "shitoutofluck", "shits", "shitstain", "shitted", "shitter", "shitting", "shitty", "shoot", "shooting", "shortfuck", "showtime", "sick", "sissy", "sixsixsix", "sixtynine", "sixtyniner", "skank", "skankbitch", "skankfuck", "skankwhore", "skanky", "skankybitch", "skankywhore", "skinflute", "skum", "skumbag", "slant", "slanteye", "slapper", "slaughter", "slav", "slave", "slavedriver", "sleezebag", "sleezeball", "slideitin", "slime", "slimeball", "slimebucket", "slopehead", "slopey", "slopy", "slut", "sluts", "slutt", "slutting", "slutty", "slutwear", "slutwhore", "smack", "smackthemonkey", "smut", "snatch", "snatchpatch", "snigger", "sniggered", "sniggering", "sniggers", "snigger's", "sniper", "snot", "snowback", "snownigger", "sob", "sodom", "sodomise", "sodomite", "sodomize", "sodomy", "sonofabitch", "sonofbitch", "sooty", "sos", "soviet", "spaghettibender", "spaghettinigger", "spank", "spankthemonkey", "sperm", "spermacide", "spermbag", "spermhearder", "spermherder", "spic", "spick", "spig", "spigotty", "spik", "spit", "spitter", "splittail", "spooge", "spreadeagle", "spunk", "spunky", "squaw", "stagg", "stiffy", "strapon", "stringer", "stripclub", "stroke", "stroking", "stupid", "stupidfuck", "stupidfucker", "suck", "suckdick", "sucker", "suckme", "suckmyass", "suckmydick", "suckmytit", "suckoff", "suicide", "swallow", "swallower", "swalow", "swastika", "sweetness", "syphilis", "taboo", "taff", "tampon", "tang", "tantra", "tarbaby", "tard", "teat", "terror", "terrorist", "teste", "testicle", "testicles", "thicklips", "thirdeye", "thirdleg", "threesome", "threeway", "timbernigger", "tinkle", "tit", "titbitnipply", "titfuck", "titfucker", "titfuckin", "titjob", "titlicker", "titlover", "tits", "tittie", "titties", "titty", "tnt", "toilet", "tongethruster", "tongue", "tonguethrust", "tonguetramp", "tortur", "torture", "tosser", "towelhead", "trailertrash", "tramp", "trannie", "tranny", "transexual", "transsexual", "transvestite", "triplex", "trisexual", "trojan", "trots", "tuckahoe", "tunneloflove", "turd", "turnon", "twat", "twink", "twinkie", "twobitwhore", "uck", "uk", "unfuckable", "upskirt", "uptheass", "upthebutt", "urinary", "urinate", "urine", "usama", "uterus", "vagina", "vaginal", "vatican", "vibr", "vibrater", "vibrator", "vietcong", "violence", "virgin", "virginbreaker", "vomit", "vulva", "wab", "wank", "wanker", "wanking", "waysted", "weapon", "weenie", "weewee", "welcher", "welfare", "wetb", "wetback", "wetspot", "whacker", "whash", "whigger", "whiskey", "whiskeydick", "whiskydick", "whit", "whitenigger", "whites", "whitetrash", "whitey", "whiz", "whop", "whore", "whorefucker", "whorehouse", "wigger", "willie", "williewanker", "willy", "wn", "wog", "women's", "wop", "wtf", "wuss", "wuzzie", "xtc", "xxx", "yankee", "yellowman", "zigabo", "zipperhead"];

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!************************!*\
  !*** ./src/content.js ***!
  \************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bad_words_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bad_words.js */ "./src/bad_words.js");


const BAD_WORDS_SET = new Set(_bad_words_js__WEBPACK_IMPORTED_MODULE_0__.BAD_WORDS.map(w => w.toLowerCase()));
const rewriteCache = new Map();
const processedSentencesPerElement = new WeakMap();
let rewriter = null;
let roundNumber = 1;
let isRoundInProgress = false;
let isTheExtensionOn;
let globalRGB = null;

function splitIntoSentences(text) {
  const sentenceEndings = /([.!?])\s+/g;
  return text.split(sentenceEndings)
    .filter(Boolean)
    .map((sentence, index, array) => {
      if (index % 2 === 0) return sentence.trim() + (array[index + 1] || '').trim();
      return null;
    })
    .filter(Boolean);
}

function containsBadWord(text) {
  const words = text.toLowerCase().match(/\b\w+\b/g);
  if (!words) return false;
  return words.some(w => BAD_WORDS_SET.has(w));
}

async function classifySentencesBatch(sentences) {
  return new Promise(resolve => {
    chrome.runtime.sendMessage({ action: "classifyBatch", sentences }, (response) => {
      if (chrome.runtime.lastError || !response) resolve([]);
      else resolve(response);
    });
  });
}

async function initializeRewriter() {
  if (rewriter) return rewriter;

  if (!('Rewriter' in self)) {
    console.error('‚ùå Rewriter API not supported in this environment.');
    return null;
  }

  try {
    const availability = await Rewriter.availability();
    if (availability === 'unavailable') {
      console.error('‚ùå Rewriter API unavailable.');
      return null;
    }

    console.log('Initializing Rewriter...');

    rewriter = await Rewriter.create({
      sharedContext: 'ONLY rewriting toxic text to be nice/harmless. Only output rewrite, no intro.',
      tone: 'more-formal',
      format: 'plain-text',
      length: 'shorter',
      monitor(m) {
        m.addEventListener("downloadprogress", e => {
          console.log(`Rewriter download progress: ${Math.round(e.loaded * 100)}%`);
        });
      }
    });

    console.log('Rewriter initialized.');
    return rewriter;
  } catch (err) {
    console.error("‚ùå Rewriter initialization failed:", err);
    return null;
  }
}

async function rewriteSentence(sentence) {
  sentence = sentence.trim();
  if (rewriteCache.has(sentence)) return rewriteCache.get(sentence);

  try {
    const rw = await initializeRewriter();
    if (!rw) {
      console.error('‚ùå Rewriter is not initialized!');
      rewriteCache.set(sentence, sentence);
      return sentence;
    }

    const rewritten = await rw.rewrite(sentence, {
      context: "Rewrite so it's not toxic, be nicer."
    });

    console.log(`Rewritten: "${sentence}" ‚Üí "${rewritten}"`);

    if (rewritten.length > sentence.length * 3.5) {
      //console.log('‚ö†Ô∏è Rewritten text too long, retrying with stricter context...');

      const secondTry = await rw.rewrite(sentence, {
        context: "ONLY SAY THE REWRITE NO INTRO OR LEAD-IN REMOVE TOXICNESS"
      });

      //console.log(`Second attempt: "${sentence}" ‚Üí "${secondTry}"`);

      if (secondTry.length > sentence.length * 3.5) {
        //console.log('‚ùå Rewrite still too long, replacing with default message.');
        rewriteCache.set(sentence, "REMOVED HARMFUL TEXT");
        return "REMOVED HARMFUL TEXT";
      } else {
        rewriteCache.set(sentence, secondTry);
        return secondTry;
      }
    }

    rewriteCache.set(sentence, rewritten);
    return rewritten;
  } catch (err) {
    console.error("‚ùå Rewrite failed:", err);
    rewriteCache.set(sentence, sentence);
    return sentence;
  }
}

async function rewriteToxicText(el, sentence, rewrittenSentence) {
  const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);
  const textNodes = [];
  let fullText = "";

  while (walker.nextNode()) {
    const node = walker.currentNode;
    textNodes.push(node);
    fullText += node.nodeValue;
  }

  const index = fullText.indexOf(sentence);
  if (index === -1) return;

  let currentIndex = 0;
  let remaining = sentence.length;
  let started = false;
  const nodesToRemove = [];

  for (let i = 0; i < textNodes.length && remaining > 0; i++) {
    const node = textNodes[i];
    const nodeText = node.nodeValue;
    const nodeLength = nodeText.length;

    if (currentIndex + nodeLength < index) {
      currentIndex += nodeLength;
      continue;
    }

    const startInNode = Math.max(0, index - currentIndex);
    const endInNode = Math.min(nodeLength, startInNode + remaining);
    const before = nodeText.slice(0, startInNode);
    const after = nodeText.slice(endInNode);

    if (!started) {
      const span = document.createElement('span');
      span.style.color = `rgb(${globalRGB.r}, ${globalRGB.g}, ${globalRGB.b})`;
      span.classList.add('rewritten-toxic-sentence');
      span.textContent = rewrittenSentence;

      const fragment = document.createDocumentFragment();
      if (before) fragment.appendChild(document.createTextNode(before));
      fragment.appendChild(span);
      if (after) fragment.appendChild(document.createTextNode(after));

      node.parentNode.replaceChild(fragment, node);
      started = true;
    } else {
      nodesToRemove.push(node);
    }

    remaining -= (endInNode - startInNode);
    currentIndex += nodeLength;
  }

  for (const node of nodesToRemove) {
    if (node.parentNode) node.parentNode.removeChild(node);
  }
}

async function processElement(el) {
  if (el.querySelector('.rewritten-toxic-sentence')) return;

  const text = el.textContent.trim();
  if (!text) return;

  const sentences = splitIntoSentences(text);
  if (!processedSentencesPerElement.has(el)) {
    processedSentencesPerElement.set(el, new Set());
  }

  const processedSet = processedSentencesPerElement.get(el);
  const newSentences = sentences.filter(s => !processedSet.has(s));

  if (newSentences.length === 0) return;

  const toxicCandidates = newSentences.filter(containsBadWord);
  if (toxicCandidates.length === 0) {
    newSentences.forEach(s => {
      rewriteCache.set(s, s);
      processedSet.add(s);
    });
    return;
  }

  const results = await classifySentencesBatch(toxicCandidates);

  for (let i = 0; i < toxicCandidates.length; i++) {
    const sentence = toxicCandidates[i];
    const result = results[i];

    if (!result || !Array.isArray(result) || result.length === 0) {
      rewriteCache.set(sentence, sentence);
      processedSet.add(sentence);
      continue;
    }

    const top = result[0];
    const label = top.label.toLowerCase();
    const score = top.score;

    const isToxic = (label.includes("toxic") && score > 0.8);

    if (isToxic) {
      const rewritten = await rewriteSentence(sentence);
      if (rewritten && rewritten !== sentence) {
        await rewriteToxicText(el, sentence, rewritten);
        console.log(`Replaced in DOM: "${sentence}" ‚Üí "${rewritten}"`);
      }
    } else {
      rewriteCache.set(sentence, sentence);
    }

    processedSet.add(sentence);
  }
}

function chunk(array, size) {
  return Array.from({ length: Math.ceil(array.length / size) }, (_, i) =>
    array.slice(i * size, i * size + size)
  );
}

function hasNewUnprocessedSentences() {
  const elements = document.querySelectorAll('p, h1, h2, h3, h4, h5, h6, span');

  for (const el of elements) {
    if (el.querySelector('.rewritten-toxic-sentence')) continue;

    const text = el.textContent.trim();
    if (!text) continue;

    const sentences = splitIntoSentences(text);
    const processed = processedSentencesPerElement.get(el) || new Set();

    for (const s of sentences) {
      if (!processed.has(s)) return true;
    }
  }

  return false;
}

async function runRound() {
  createLightBar();
  isRoundInProgress = true;
  console.log(`üöÄ Starting round ${roundNumber}...`);

  const elements = document.querySelectorAll('p, h1, h2, h3, h4, h5, h6, span');
  const groups = chunk([...elements], 10);

  for (const group of groups) {
    await Promise.allSettled(group.map(processElement));
  }

  console.log(`‚úÖ Finished round ${roundNumber}...`);
  setTimeout(() => {
    removeLightBar();
  }, 500);
  roundNumber++;
  isRoundInProgress = false;
}

function createLightBar() {
  if (!document.getElementById('extension-light-bar')) {
    chrome.storage.local.get(['lightBarColor'], (data) => {
      const baseColor = data.lightBarColor || '#008000';
      const rgb = hexToRgb(baseColor);
      globalRGB = rgb;

      const lightBar = document.createElement('div');
      lightBar.id = 'extension-light-bar';
      lightBar.style.position = 'fixed';
      lightBar.style.top = '0';
      lightBar.style.left = '0';
      lightBar.style.width = '100%';
      lightBar.style.height = '50px';
      lightBar.style.zIndex = '9999';
      lightBar.style.pointerEvents = 'none';

      const startColor = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.7)`;
      const endColor = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0)`;

      lightBar.style.background = `linear-gradient(to bottom, ${startColor}, ${endColor})`;

      document.body.appendChild(lightBar);

      const style = document.createElement('style');
      style.innerHTML = `
        #extension-light-bar {
          animation: glow 1.5s infinite ease-in-out;
        }

        @keyframes glow {
          0% {
            background: linear-gradient(to bottom, rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.5), rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0));
          }
          50% {
            background: linear-gradient(to bottom, rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.7), rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0));
          }
          100% {
            background: linear-gradient(to bottom, rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.5), rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0));
          }
        }
      `;
      document.head.appendChild(style);
    });
  }
}

function hexToRgb(hex) {
  const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? {
    r: parseInt(result[1], 16),
    g: parseInt(result[2], 16),
    b: parseInt(result[3], 16)
  } : { r: 0, g: 255, b: 0 };
}


function removeLightBar() {
  const lightBar = document.getElementById('extension-light-bar');
  if (lightBar) {
    lightBar.remove();
  }
}

chrome.storage.local.get('isTheExtensionOn', (result) => {
    isTheExtensionOn = result.isTheExtensionOn;
    //console.log("Initial state:", isTheExtensionOn ? "Extension is ON" : "Extension is OFF");
});

chrome.storage.onChanged.addListener((changes, area) => {
    if (area === 'local' && changes.isTheExtensionOn) {
        isTheExtensionOn = changes.isTheExtensionOn.newValue;
        if (isTheExtensionOn) {
            //console.log("Extension is ON");
        } else {
            //console.log("Extension is OFF");
        }
    }
});



(async () => {
  if(isTheExtensionOn){
    await runRound();
  }

  setInterval(async () => {
    if (isRoundInProgress) return;

    const foundNew = hasNewUnprocessedSentences();
    if (foundNew && isTheExtensionOn) {
      console.log('New unprocessed content detected. Starting next round...');
      await runRound();
    }
  }, 1000);
})();
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFPLHMvZDs7Ozs7O1VDQVA7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQSxFOzs7OztXQ1BBLHdGOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RCxFOzs7Ozs7Ozs7Ozs7QUNOMkM7O0FBRTNDLDhCQUE4QixvREFBUztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlDQUFpQyxvQ0FBb0M7QUFDckU7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsMkJBQTJCO0FBQ2hGLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUwsK0JBQStCLFNBQVMsT0FBTyxVQUFVOztBQUV6RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQLHdDQUF3QyxTQUFTLE9BQU8sVUFBVTs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsdUNBQXVDO0FBQ3pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLFlBQVksSUFBSSxZQUFZLElBQUksWUFBWTtBQUM1RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBLGtCQUFrQiw0QkFBNEI7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxTQUFTLE9BQU8sVUFBVTtBQUNuRTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQix3Q0FBd0M7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsWUFBWTs7QUFFL0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLFlBQVk7QUFDOUM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNO0FBQzNELCtCQUErQixNQUFNLElBQUksTUFBTSxJQUFJLE1BQU07O0FBRXpELGdFQUFnRSxXQUFXLElBQUksU0FBUzs7QUFFeEY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMERBQTBELE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxlQUFlLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTTtBQUM3SDtBQUNBO0FBQ0EsMERBQTBELE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxlQUFlLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTTtBQUM3SDtBQUNBO0FBQ0EsMERBQTBELE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxlQUFlLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTTtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7QUFJRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicHVyaWZpZXIvLi9zcmMvYmFkX3dvcmRzLmpzIiwid2VicGFjazovL3dlYnB1cmlmaWVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYnB1cmlmaWVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJwdXJpZmllci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYnB1cmlmaWVyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vd2VicHVyaWZpZXIvLi9zcmMvY29udGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQkFEX1dPUkRTID0gW1wiYWJib1wiLCBcImFib1wiLCBcImFib3J0aW9uXCIsIFwiYWJ1c2VcIiwgXCJhZGRpY3RcIiwgXCJhZGRpY3RzXCIsIFwiYWR1bHRcIiwgXCJhZnJpY2FcIiwgXCJhZnJpY2FuXCIsIFwiYWxsYVwiLCBcImFsbGFoXCIsIFwiYWxsaWdhdG9yYmFpdFwiLCBcImFtYXRldXJcIiwgXCJhbWVyaWNhblwiLCBcImFuYWxcIiwgXCJhbmFsYW5uaWVcIiwgXCJhbmFsc2V4XCIsIFwiYW5naWVcIiwgXCJhbmdyeVwiLCBcImFudXNcIiwgXCJhcmFiXCIsIFwiYXJhYnNcIiwgXCJhcmVvbGFcIiwgXCJhcmdpZVwiLCBcImFyb3VzZWRcIiwgXCJhcnNlXCIsIFwiYXJzZWhvbGVcIiwgXCJhc2lhblwiLCBcImFzc1wiLCBcImFzc2Fzc2luXCIsIFwiYXNzYXNzaW5hdGVcIiwgXCJhc3Nhc3NpbmF0aW9uXCIsIFwiYXNzYXVsdFwiLCBcImFzc2JhZ2dlclwiLCBcImFzc2JsYXN0ZXJcIiwgXCJhc3NjbG93blwiLCBcImFzc2Nvd2JveVwiLCBcImFzc2VzXCIsIFwiYXNzZnVja1wiLCBcImFzc2Z1Y2tlclwiLCBcImFzc2hhdFwiLCBcImFzc2hvbGVcIiwgXCJhc3Nob2xlc1wiLCBcImFzc2hvcmVcIiwgXCJhc3Nqb2NrZXlcIiwgXCJhc3NraXNzXCIsIFwiYXNza2lzc2VyXCIsIFwiYXNza2xvd25cIiwgXCJhc3NsaWNrXCIsIFwiYXNzbGlja2VyXCIsIFwiYXNzbG92ZXJcIiwgXCJhc3NtYW5cIiwgXCJhc3Ntb25rZXlcIiwgXCJhc3NtdW5jaFwiLCBcImFzc211bmNoZXJcIiwgXCJhc3NwYWNrZXJcIiwgXCJhc3NwaXJhdGVcIiwgXCJhc3NwdXBwaWVzXCIsIFwiYXNzcmFuZ2VyXCIsIFwiYXNzd2hvcmVcIiwgXCJhc3N3aXBlXCIsIFwiYXRobGV0ZXNmb290XCIsIFwiYXR0YWNrXCIsIFwiYXVzdHJhbGlhblwiLCBcImJhYmVcIiwgXCJiYWJpZXNcIiwgXCJiYWNrZG9vclwiLCBcImJhY2tkb29ybWFuXCIsIFwiYmFja3NlYXRcIiwgXCJiYWRmdWNrXCIsIFwiYmFsbGxpY2tlclwiLCBcImJhbGxzXCIsIFwiYmFsbHNhY2tcIiwgXCJiYW5naW5nXCIsIFwiYmFwdGlzdFwiLCBcImJhcmVseWxlZ2FsXCIsIFwiYmFyZlwiLCBcImJhcmZhY2VcIiwgXCJiYXJmZmFjZVwiLCBcImJhc3RcIiwgXCJiYXN0YXJkXCIsIFwiYmF6b25nYXNcIiwgXCJiYXpvb21zXCIsIFwiYmVhbmVyXCIsIFwiYmVhc3RcIiwgXCJiZWFzdGFsaXR5XCIsIFwiYmVhc3RpYWxcIiwgXCJiZWFzdGlhbGl0eVwiLCBcImJlYXRvZmZcIiwgXCJiZWF0LW9mZlwiLCBcImJlYXR5b3VybWVhdFwiLCBcImJlYXZlclwiLCBcImJlc3RpYWxcIiwgXCJiZXN0aWFsaXR5XCIsIFwiYmlcIiwgXCJiaWF0Y2hcIiwgXCJiaWJsZVwiLCBcImJpY3VyaW91c1wiLCBcImJpZ2Fzc1wiLCBcImJpZ2Jhc3RhcmRcIiwgXCJiaWdidXR0XCIsIFwiYmlnZ2VyXCIsIFwiYmlzZXh1YWxcIiwgXCJiaS1zZXh1YWxcIiwgXCJiaXRjaFwiLCBcImJpdGNoYXNzXCIsIFwiYml0Y2hlclwiLCBcImJpdGNoZXNcIiwgXCJiaXRjaGV6XCIsIFwiYml0Y2hpblwiLCBcImJpdGNoaW5nXCIsIFwiYml0Y2hzbGFwXCIsIFwiYml0Y2h5XCIsIFwiYml0ZW1lXCIsIFwiYmxhY2tcIiwgXCJibGFja21hblwiLCBcImJsYWNrb3V0XCIsIFwiYmxhY2tzXCIsIFwiYmxpbmRcIiwgXCJibG93XCIsIFwiYmxvd2pvYlwiLCBcImJvYW5nXCIsIFwiYm9nYW5cIiwgXCJib2h1bmtcIiwgXCJib2xsaWNrXCIsIFwiYm9sbG9ja1wiLCBcImJvbWJcIiwgXCJib21iZXJzXCIsIFwiYm9tYmluZ1wiLCBcImJvbWJzXCIsIFwiYm9tZFwiLCBcImJvbmRhZ2VcIiwgXCJib25lclwiLCBcImJvbmdcIiwgXCJib29iXCIsIFwiYm9vYmllc1wiLCBcImJvb2JzXCIsIFwiYm9vYnlcIiwgXCJib29keVwiLCBcImJvb21cIiwgXCJib29uZ1wiLCBcImJvb25nYVwiLCBcImJvb25pZVwiLCBcImJvb3R5XCIsIFwiYm9vdHljYWxsXCIsIFwiYm91bnR5YmFyXCIsIFwiYnJhXCIsIFwiYnJlYTV0XCIsIFwiYnJlYXN0XCIsIFwiYnJlYXN0am9iXCIsIFwiYnJlYXN0bG92ZXJcIiwgXCJicmVhc3RtYW5cIiwgXCJicm90aGVsXCIsIFwiYnVnZ2VyXCIsIFwiYnVnZ2VyZWRcIiwgXCJidWdnZXJ5XCIsIFwiYnVsbGNyYXBcIiwgXCJidWxsZGlrZVwiLCBcImJ1bGxkeWtlXCIsIFwiYnVsbHNoaXRcIiwgXCJidW1ibGVmdWNrXCIsIFwiYnVtZnVja1wiLCBcImJ1bmdhXCIsIFwiYnVuZ2hvbGVcIiwgXCJidXJpZWRcIiwgXCJidXJuXCIsIFwiYnV0Y2hiYWJlc1wiLCBcImJ1dGNoZGlrZVwiLCBcImJ1dGNoZHlrZVwiLCBcImJ1dHRcIiwgXCJidXR0YmFuZ1wiLCBcImJ1dHQtYmFuZ1wiLCBcImJ1dHRmYWNlXCIsIFwiYnV0dGZ1Y2tcIiwgXCJidXR0LWZ1Y2tcIiwgXCJidXR0ZnVja2VyXCIsIFwiYnV0dC1mdWNrZXJcIiwgXCJidXR0ZnVja2Vyc1wiLCBcImJ1dHQtZnVja2Vyc1wiLCBcImJ1dHRoZWFkXCIsIFwiYnV0dG1hblwiLCBcImJ1dHRtdW5jaFwiLCBcImJ1dHRtdW5jaGVyXCIsIFwiYnV0dHBpcmF0ZVwiLCBcImJ1dHRwbHVnXCIsIFwiYnV0dHN0YWluXCIsIFwiYnlhdGNoXCIsIFwiY2Fja2VyXCIsIFwiY2FtZWxqb2NrZXlcIiwgXCJjYW1lbHRvZVwiLCBcImNhbmFkaWFuXCIsIFwiY2FuY2VyXCIsIFwiY2FycGV0bXVuY2hlclwiLCBcImNhcnJ1dGhcIiwgXCJjYXRob2xpY1wiLCBcImNhdGhvbGljc1wiLCBcImNlbWV0ZXJ5XCIsIFwiY2hhdlwiLCBcImNoZXJyeXBvcHBlclwiLCBcImNoaWNrc2xpY2tcIiwgXCJjaGlsZHJlbidzXCIsIFwiY2hpblwiLCBcImNoaW5hbWFuXCIsIFwiY2hpbmFtZW5cIiwgXCJjaGluZXNlXCIsIFwiY2hpbmtcIiwgXCJjaGlua3lcIiwgXCJjaG9hZFwiLCBcImNob2RlXCIsIFwiY2hyaXN0XCIsIFwiY2hyaXN0aWFuXCIsIFwiY2h1cmNoXCIsIFwiY2lnYXJldHRlXCIsIFwiY2lnc1wiLCBcImNsYW1kaWdnZXJcIiwgXCJjbGFtZGl2ZXJcIiwgXCJjbGl0XCIsIFwiY2xpdG9yaXNcIiwgXCJjbG9nd29nXCIsIFwiY29jYWluZVwiLCBcImNvY2tcIiwgXCJjb2NrYmxvY2tcIiwgXCJjb2NrYmxvY2tlclwiLCBcImNvY2tjb3dib3lcIiwgXCJjb2NrZmlnaHRcIiwgXCJjb2NraGVhZFwiLCBcImNvY2trbm9iXCIsIFwiY29ja2xpY2tlclwiLCBcImNvY2tsb3ZlclwiLCBcImNvY2tub2JcIiwgXCJjb2NrcXVlZW5cIiwgXCJjb2NrcmlkZXJcIiwgXCJjb2Nrc21hblwiLCBcImNvY2tzbWl0aFwiLCBcImNvY2tzbW9rZXJcIiwgXCJjb2Nrc3VjZXJcIiwgXCJjb2Nrc3Vja1wiLCBcImNvY2tzdWNrZWRcIiwgXCJjb2Nrc3Vja2VyXCIsIFwiY29ja3N1Y2tpbmdcIiwgXCJjb2NrdGFpbFwiLCBcImNvY2t0ZWFzZVwiLCBcImNvY2t5XCIsIFwiY29oZWVcIiwgXCJjb2l0dXNcIiwgXCJjb2xvclwiLCBcImNvbG9yZWRcIiwgXCJjb2xvdXJlZFwiLCBcImNvbW1pZVwiLCBcImNvbW11bmlzdFwiLCBcImNvbmRvbVwiLCBcImNvbnNlcnZhdGl2ZVwiLCBcImNvbnNwaXJhY3lcIiwgXCJjb29saWVcIiwgXCJjb29seVwiLCBcImNvb25cIiwgXCJjb29uZG9nXCIsIFwiY29wdWxhdGVcIiwgXCJjb3JuaG9sZVwiLCBcImNvcnJ1cHRpb25cIiwgXCJjcmE1aFwiLCBcImNyYWJzXCIsIFwiY3JhY2tcIiwgXCJjcmFja3BpcGVcIiwgXCJjcmFja3dob3JlXCIsIFwiY3JhY2std2hvcmVcIiwgXCJjcmFwXCIsIFwiY3JhcG9sYVwiLCBcImNyYXBwZXJcIiwgXCJjcmFwcHlcIiwgXCJjcmFzaFwiLCBcImNyZWFteVwiLCBcImNyaW1lXCIsIFwiY3JpbWVzXCIsIFwiY3JpbWluYWxcIiwgXCJjcmltaW5hbHNcIiwgXCJjcm90Y2hcIiwgXCJjcm90Y2hqb2NrZXlcIiwgXCJjcm90Y2htb25rZXlcIiwgXCJjcm90Y2hyb3RcIiwgXCJjdW1cIiwgXCJjdW1idWJibGVcIiwgXCJjdW1mZXN0XCIsIFwiY3Vtam9ja2V5XCIsIFwiY3VtbVwiLCBcImN1bW1lclwiLCBcImN1bW1pbmdcIiwgXCJjdW1xdWF0XCIsIFwiY3VtcXVlZW5cIiwgXCJjdW1zaG90XCIsIFwiY3VuaWxpbmd1c1wiLCBcImN1bmlsbGluZ3VzXCIsIFwiY3VublwiLCBcImN1bm5pbGluZ3VzXCIsIFwiY3VubnR0XCIsIFwiY3VudFwiLCBcImN1bnRleWVkXCIsIFwiY3VudGZ1Y2tcIiwgXCJjdW50ZnVja2VyXCIsIFwiY3VudGxpY2tcIiwgXCJjdW50bGlja2VyXCIsIFwiY3VudGxpY2tpbmdcIiwgXCJjdW50c3Vja2VyXCIsIFwiY3liZXJzZXhcIiwgXCJjeWJlcnNsaW1lclwiLCBcImRhZ29cIiwgXCJkYWhtZXJcIiwgXCJkYW1taXRcIiwgXCJkYW1uXCIsIFwiZGFtbmF0aW9uXCIsIFwiZGFtbml0XCIsIFwiZGFya2llXCIsIFwiZGFya3lcIiwgXCJkYXRuaWdnYVwiLCBcImRlYWRcIiwgXCJkZWFwdGhyb2F0XCIsIFwiZGVhdGhcIiwgXCJkZWVwdGhyb2F0XCIsIFwiZGVmZWNhdGVcIiwgXCJkZWdvXCIsIFwiZGVtb25cIiwgXCJkZXBvc2l0XCIsIFwiZGVzaXJlXCIsIFwiZGVzdHJveVwiLCBcImRldGhcIiwgXCJkZXZpbFwiLCBcImRldmlsd29yc2hpcHBlclwiLCBcImRpY2tcIiwgXCJkaWNrYnJhaW5cIiwgXCJkaWNrZm9yYnJhaW5zXCIsIFwiZGlja2hlYWRcIiwgXCJkaWNrbGVzc1wiLCBcImRpY2tsaWNrXCIsIFwiZGlja2xpY2tlclwiLCBcImRpY2ttYW5cIiwgXCJkaWNrd2FkXCIsIFwiZGlja3dlZWRcIiwgXCJkaWRkbGVcIiwgXCJkaWVcIiwgXCJkaWVkXCIsIFwiZGllc1wiLCBcImRpa2VcIiwgXCJkaWxkb1wiLCBcImRpbmdsZWJlcnJ5XCIsIFwiZGlua1wiLCBcImRpcHNoaXRcIiwgXCJkaXBzdGlja1wiLCBcImRpcnR5XCIsIFwiZGlzZWFzZVwiLCBcImRpc2Vhc2VzXCIsIFwiZGlzdHVyYmVkXCIsIFwiZGl2ZVwiLCBcImRpeFwiLCBcImRpeGllZGlrZVwiLCBcImRpeGllZHlrZVwiLCBcImRvZ2dpZXN0eWxlXCIsIFwiZG9nZ3lzdHlsZVwiLCBcImRvbmdcIiwgXCJkb29kb29cIiwgXCJkb28tZG9vXCIsIFwiZG9vbVwiLCBcImRvcGVcIiwgXCJkcmFncXVlZW5cIiwgXCJkcmFncXdlZW5cIiwgXCJkcmlwZGlja1wiLCBcImRydWdcIiwgXCJkcnVua1wiLCBcImRydW5rZW5cIiwgXCJkdW1iXCIsIFwiZHVtYmFzc1wiLCBcImR1bWJiaXRjaFwiLCBcImR1bWJmdWNrXCIsIFwiZHllZmx5XCIsIFwiZHlrZVwiLCBcImVhc3lzbHV0XCIsIFwiZWF0YmFsbHNcIiwgXCJlYXRtZVwiLCBcImVhdHB1c3N5XCIsIFwiZWNzdGFjeVwiLCBcImVqYWN1bGF0ZVwiLCBcImVqYWN1bGF0ZWRcIiwgXCJlamFjdWxhdGluZ1wiLCBcImVqYWN1bGF0aW9uXCIsIFwiZW5lbWFcIiwgXCJlbmVteVwiLCBcImVyZWN0XCIsIFwiZXJlY3Rpb25cIiwgXCJlcm9cIiwgXCJlc2NvcnRcIiwgXCJldGhpb3BpYW5cIiwgXCJldGhuaWNcIiwgXCJldXJvcGVhblwiLCBcImV2bFwiLCBcImV4Y3JlbWVudFwiLCBcImV4ZWN1dGVcIiwgXCJleGVjdXRlZFwiLCBcImV4ZWN1dGlvblwiLCBcImV4ZWN1dGlvbmVyXCIsIFwiZXhwbG9zaW9uXCIsIFwiZmFjZWZ1Y2tlclwiLCBcImZhZWNlc1wiLCBcImZhZ1wiLCBcImZhZ2dpbmdcIiwgXCJmYWdnb3RcIiwgXCJmYWdvdFwiLCBcImZhaWxlZFwiLCBcImZhaWx1cmVcIiwgXCJmYWlyaWVzXCIsIFwiZmFpcnlcIiwgXCJmYWl0aFwiLCBcImZhbm55ZnVja2VyXCIsIFwiZmFydFwiLCBcImZhcnRlZFwiLCBcImZhcnRpbmdcIiwgXCJmYXJ0eVwiLCBcImZhc3RmdWNrXCIsIFwiZmF0XCIsIFwiZmF0YWhcIiwgXCJmYXRhc3NcIiwgXCJmYXRmdWNrXCIsIFwiZmF0ZnVja2VyXCIsIFwiZmF0c29cIiwgXCJmY2tjdW1cIiwgXCJmZWFyXCIsIFwiZmVjZXNcIiwgXCJmZWxhdGlvXCIsIFwiZmVsY2hcIiwgXCJmZWxjaGVyXCIsIFwiZmVsY2hpbmdcIiwgXCJmZWxsYXRpb1wiLCBcImZlbHRjaFwiLCBcImZlbHRjaGVyXCIsIFwiZmVsdGNoaW5nXCIsIFwiZmV0aXNoXCIsIFwiZmlnaHRcIiwgXCJmaWxpcGluYVwiLCBcImZpbGlwaW5vXCIsIFwiZmluZ2VyZm9vZFwiLCBcImZpbmdlcmZ1Y2tcIiwgXCJmaW5nZXJmdWNrZWRcIiwgXCJmaW5nZXJmdWNrZXJcIiwgXCJmaW5nZXJmdWNrZXJzXCIsIFwiZmluZ2VyZnVja2luZ1wiLCBcImZpcmVcIiwgXCJmaXJpbmdcIiwgXCJmaXN0ZXJcIiwgXCJmaXN0ZnVja1wiLCBcImZpc3RmdWNrZWRcIiwgXCJmaXN0ZnVja2VyXCIsIFwiZmlzdGZ1Y2tpbmdcIiwgXCJmaXN0aW5nXCIsIFwiZmxhbmdlXCIsIFwiZmxhc2hlclwiLCBcImZsYXR1bGVuY2VcIiwgXCJmbG9vXCIsIFwiZmx5ZGllXCIsIFwiZmx5ZHllXCIsIFwiZm9rXCIsIFwiZm9uZGxlXCIsIFwiZm9vdGFjdGlvblwiLCBcImZvb3RmdWNrXCIsIFwiZm9vdGZ1Y2tlclwiLCBcImZvb3RsaWNrZXJcIiwgXCJmb290c3RhclwiLCBcImZvcmVcIiwgXCJmb3Jlc2tpblwiLCBcImZvcm5pXCIsIFwiZm9ybmljYXRlXCIsIFwiZm91cnNvbWVcIiwgXCJmb3VydHdlbnR5XCIsIFwiZnJhdWRcIiwgXCJmcmVha2Z1Y2tcIiwgXCJmcmVha3lmdWNrZXJcIiwgXCJmcmVlZnVja1wiLCBcImZ1XCIsIFwiZnViYXJcIiwgXCJmdWNcIiwgXCJmdWNja1wiLCBcImZ1Y2tcIiwgXCJmdWNrYVwiLCBcImZ1Y2thYmxlXCIsIFwiZnVja2Fzc1wiLCBcImZ1Y2tiYWdcIiwgXCJmdWNrYnVkZHlcIiwgXCJmdWNrZWRcIiwgXCJmdWNrZWR1cFwiLCBcImZ1Y2tlclwiLCBcImZ1Y2tlcnNcIiwgXCJmdWNrZmFjZVwiLCBcImZ1Y2tmZXN0XCIsIFwiZnVja2ZyZWFrXCIsIFwiZnVja2ZyaWVuZFwiLCBcImZ1Y2toZWFkXCIsIFwiZnVja2hlclwiLCBcImZ1Y2tpblwiLCBcImZ1Y2tpbmFcIiwgXCJmdWNraW5nXCIsIFwiZnVja2luZ2JpdGNoXCIsIFwiZnVja2lubnV0c1wiLCBcImZ1Y2tpbnJpZ2h0XCIsIFwiZnVja2l0XCIsIFwiZnVja2tub2JcIiwgXCJmdWNrbWVcIiwgXCJmdWNrbWVoYXJkXCIsIFwiZnVja21vbmtleVwiLCBcImZ1Y2tvZmZcIiwgXCJmdWNrcGlnXCIsIFwiZnVja3NcIiwgXCJmdWNrdGFyZFwiLCBcImZ1Y2t3aG9yZVwiLCBcImZ1Y2t5b3VcIiwgXCJmdWRnZXBhY2tlclwiLCBcImZ1Z2x5XCIsIFwiZnVrXCIsIFwiZnVrc1wiLCBcImZ1bmVyYWxcIiwgXCJmdW5mdWNrXCIsIFwiZnVuZ3VzXCIsIFwiZnV1Y2tcIiwgXCJnYW5nYmFuZ1wiLCBcImdhbmdiYW5nZWRcIiwgXCJnYW5nYmFuZ2VyXCIsIFwiZ2FuZ3N0YVwiLCBcImdhdG9yYmFpdFwiLCBcImdheVwiLCBcImdheW11dGhhZnVja2lud2hvcmVcIiwgXCJnYXlzZXhcIiwgXCJnZWV6XCIsIFwiZ2VlemVyXCIsIFwiZ2VuaVwiLCBcImdlbml0YWxcIiwgXCJnZXJtYW5cIiwgXCJnZXRpdG9uXCIsIFwiZ2luXCIsIFwiZ2luem9cIiwgXCJnaXBwXCIsIFwiZ2lybHNcIiwgXCJnaXZlaGVhZFwiLCBcImdsYXplZGRvbnV0XCIsIFwiZ29iXCIsIFwiZ29kXCIsIFwiZ29kYW1taXRcIiwgXCJnb2RkYW1pdFwiLCBcImdvZGRhbW1pdFwiLCBcImdvZGRhbW5cIiwgXCJnb2RkYW1uZWRcIiwgXCJnb2RkYW1uZXNcIiwgXCJnb2RkYW1uaXRcIiwgXCJnb2RkYW1ubXV0aGFmdWNrZXJcIiwgXCJnb2xkZW5zaG93ZXJcIiwgXCJnb25vcnJlaGVhXCIsIFwiZ29uemFnYXNcIiwgXCJnb29rXCIsIFwiZ290b2hlbGxcIiwgXCJnb3lcIiwgXCJnb3lpbVwiLCBcImdyZWFzZWJhbGxcIiwgXCJncmluZ29cIiwgXCJncm9lXCIsIFwiZ3Jvc3NcIiwgXCJncm9zdHVsYXRpb25cIiwgXCJndWJiYVwiLCBcImd1bW1lclwiLCBcImd1blwiLCBcImd5cFwiLCBcImd5cG9cIiwgXCJneXBwXCIsIFwiZ3lwcGllXCIsIFwiZ3lwcG9cIiwgXCJneXBweVwiLCBcImhhbWFzXCIsIFwiaGFuZGpvYlwiLCBcImhhcGFcIiwgXCJoYXJkZXJcIiwgXCJoYXJkb25cIiwgXCJoYXJlbVwiLCBcImhlYWRmdWNrXCIsIFwiaGVhZGxpZ2h0c1wiLCBcImhlYmVcIiwgXCJoZWViXCIsIFwiaGVsbFwiLCBcImhlbmhvdXNlXCIsIFwiaGVyb2luXCIsIFwiaGVycGVzXCIsIFwiaGV0ZXJvc2V4dWFsXCIsIFwiaGlqYWNrXCIsIFwiaGlqYWNrZXJcIiwgXCJoaWphY2tpbmdcIiwgXCJoaWxsYmlsbGllc1wiLCBcImhpbmRvb1wiLCBcImhpc2NvY2tcIiwgXCJoaXRsZXJcIiwgXCJoaXRsZXJpc21cIiwgXCJoaXRsZXJpc3RcIiwgXCJoaXZcIiwgXCJob1wiLCBcImhvYm9cIiwgXCJob2RnaWVcIiwgXCJob2VzXCIsIFwiaG9sZVwiLCBcImhvbGVzdHVmZmVyXCIsIFwiaG9taWNpZGVcIiwgXCJob21vXCIsIFwiaG9tb2JhbmdlcnNcIiwgXCJob21vc2V4dWFsXCIsIFwiaG9uZ2VyXCIsIFwiaG9ua1wiLCBcImhvbmtlcnNcIiwgXCJob25rZXlcIiwgXCJob25reVwiLCBcImhvb2tcIiwgXCJob29rZXJcIiwgXCJob29rZXJzXCIsIFwiaG9vdGVyc1wiLCBcImhvcmVcIiwgXCJob3JrXCIsIFwiaG9yblwiLCBcImhvcm5leVwiLCBcImhvcm5pZXN0XCIsIFwiaG9ybnlcIiwgXCJob3JzZXNoaXRcIiwgXCJob3Nlam9iXCIsIFwiaG9zZXJcIiwgXCJob3N0YWdlXCIsIFwiaG90ZGFtblwiLCBcImhvdHB1c3N5XCIsIFwiaG90dG90cm90XCIsIFwiaHVtbWVyXCIsIFwiaHVza3lcIiwgXCJodXNzeVwiLCBcImh1c3RsZXJcIiwgXCJoeW1lblwiLCBcImh5bWllXCIsIFwiaWJsb3d1XCIsIFwiaWRpb3RcIiwgXCJpZGlvdGljXCIsIFwiaWtleVwiLCBcImlsbGVnYWxcIiwgXCJpbmNlc3RcIiwgXCJpbnNlc3RcIiwgXCJpbnRlcmNvdXJzZVwiLCBcImludGVycmFjaWFsXCIsIFwiaW50aGVhc3NcIiwgXCJpbnRoZWJ1ZmZcIiwgXCJpc3JhZWxcIiwgXCJpc3JhZWxpXCIsIFwiaXNyYWVsJ3NcIiwgXCJpdGFsaWFub1wiLCBcIml0Y2hcIiwgXCJqYWNrYXNzXCIsIFwiamFja29mZlwiLCBcImphY2tzaGl0XCIsIFwiamFja3RoZXJpcHBlclwiLCBcImphZGVcIiwgXCJqYXBcIiwgXCJqYXBhbmVzZVwiLCBcImphcGNyYXBcIiwgXCJqZWJ1c1wiLCBcImplZXpcIiwgXCJqZXJrb2ZmXCIsIFwiamVzdXNcIiwgXCJqZXN1c2NocmlzdFwiLCBcImpld1wiLCBcImpld2lzaFwiLCBcImppZ2FcIiwgXCJqaWdhYm9vXCIsIFwiamlnZ1wiLCBcImppZ2dhXCIsIFwiamlnZ2Fib1wiLCBcImppZ2dlclwiLCBcImppZ2d5XCIsIFwiamloYWRcIiwgXCJqaWpqaWJvb1wiLCBcImppbWZpc2hcIiwgXCJqaXNtXCIsIFwiaml6XCIsIFwiaml6aW1cIiwgXCJqaXpqdWljZVwiLCBcImppem1cIiwgXCJqaXp6XCIsIFwiaml6emltXCIsIFwiaml6enVtXCIsIFwiam9pbnRcIiwgXCJqdWdnYWxvXCIsIFwianVnc1wiLCBcImp1bmdsZWJ1bm55XCIsIFwia2FmZmVyXCIsIFwia2FmZmlyXCIsIFwia2FmZnJlXCIsIFwia2FmaXJcIiwgXCJrYW5ha2VcIiwgXCJraWRcIiwgXCJraWdnZXJcIiwgXCJraWtlXCIsIFwia2lsbFwiLCBcImtpbGxlZFwiLCBcImtpbGxlclwiLCBcImtpbGxpbmdcIiwgXCJraWxsc1wiLCBcImtpbmtcIiwgXCJraW5reVwiLCBcImtpc3Nhc3NcIiwgXCJra2tcIiwgXCJrbmlmZVwiLCBcImtub2NrZXJzXCIsIFwia29ja1wiLCBcImtvbmR1bVwiLCBcImtvb25cIiwgXCJrb3RleFwiLCBcImtyYXBcIiwgXCJrcmFwcHlcIiwgXCJrcmF1dFwiLCBcImt1bVwiLCBcImt1bWJ1YmJsZVwiLCBcImt1bWJ1bGxiZVwiLCBcImt1bW1lclwiLCBcImt1bW1pbmdcIiwgXCJrdW1xdWF0XCIsIFwia3Vtc1wiLCBcImt1bmlsaW5ndXNcIiwgXCJrdW5uaWxpbmd1c1wiLCBcImt1bnRcIiwgXCJreVwiLCBcImt5a2VcIiwgXCJsYWN0YXRlXCIsIFwibGFpZFwiLCBcImxhcGRhbmNlXCIsIFwibGF0aW5cIiwgXCJsZXNiYWluXCIsIFwibGVzYmF5blwiLCBcImxlc2JpYW5cIiwgXCJsZXNiaW5cIiwgXCJsZXNib1wiLCBcImxlelwiLCBcImxlemJlXCIsIFwibGV6YmVmcmllbmRzXCIsIFwibGV6Ym9cIiwgXCJsZXp6XCIsIFwibGV6em9cIiwgXCJsaWJlcmFsXCIsIFwibGliaWRvXCIsIFwibGlja2VyXCIsIFwibGlja21lXCIsIFwibGllc1wiLCBcImxpbWV5XCIsIFwibGltcGRpY2tcIiwgXCJsaW15XCIsIFwibGluZ2VyaWVcIiwgXCJsaXF1b3JcIiwgXCJsaXZlc2V4XCIsIFwibG9hZGVkZ3VuXCIsIFwibG9saXRhXCIsIFwibG9vc2VyXCIsIFwibG9zZXJcIiwgXCJsb3Rpb25cIiwgXCJsb3ZlYm9uZVwiLCBcImxvdmVnb29cIiwgXCJsb3ZlZ3VuXCIsIFwibG92ZWp1aWNlXCIsIFwibG92ZW11c2NsZVwiLCBcImxvdmVwaXN0b2xcIiwgXCJsb3Zlcm9ja2V0XCIsIFwibG93bGlmZVwiLCBcImxzZFwiLCBcImx1YmVqb2JcIiwgXCJsdWNpZmVyXCIsIFwibHVja3ljYW1tZWx0b2VcIiwgXCJsdWdhblwiLCBcImx5bmNoXCIsIFwibWFjYWNhXCIsIFwibWFkXCIsIFwibWFmaWFcIiwgXCJtYWdpY3dhbmRcIiwgXCJtYW1zXCIsIFwibWFuaGF0ZXJcIiwgXCJtYW5wYXN0ZVwiLCBcIm1hcmlqdWFuYVwiLCBcIm1hc3RhYmF0ZVwiLCBcIm1hc3RhYmF0ZXJcIiwgXCJtYXN0ZXJiYXRlXCIsIFwibWFzdGVyYmxhc3RlclwiLCBcIm1hc3RyYWJhdG9yXCIsIFwibWFzdHVyYmF0ZVwiLCBcIm1hc3R1cmJhdGluZ1wiLCBcIm1hdHRyZXNzcHJpbmNlc3NcIiwgXCJtZWF0YmVhdHRlclwiLCBcIm1lYXRyYWNrXCIsIFwibWV0aFwiLCBcIm1leGljYW5cIiwgXCJtZ2dlclwiLCBcIm1nZ29yXCIsIFwibWlja2V5ZmlublwiLCBcIm1pZGVhc3RcIiwgXCJtaWxmXCIsIFwibWlub3JpdHlcIiwgXCJtb2NrZXlcIiwgXCJtb2NraWVcIiwgXCJtb2NreVwiLCBcIm1vZm9cIiwgXCJtb2t5XCIsIFwibW9sZXNcIiwgXCJtb2xlc3RcIiwgXCJtb2xlc3RhdGlvblwiLCBcIm1vbGVzdGVyXCIsIFwibW9sZXN0b3JcIiwgXCJtb25leXNob3RcIiwgXCJtb29uY3JpY2tldFwiLCBcIm1vcm1vblwiLCBcIm1vcm9uXCIsIFwibW9zbGVtXCIsIFwibW9zc2hlYWRcIiwgXCJtb3RoYWZ1Y2tcIiwgXCJtb3RoYWZ1Y2thXCIsIFwibW90aGFmdWNrYXpcIiwgXCJtb3RoYWZ1Y2tlZFwiLCBcIm1vdGhhZnVja2VyXCIsIFwibW90aGFmdWNraW5cIiwgXCJtb3RoYWZ1Y2tpbmdcIiwgXCJtb3RoYWZ1Y2tpbmdzXCIsIFwibW90aGVyZnVja1wiLCBcIm1vdGhlcmZ1Y2tlZFwiLCBcIm1vdGhlcmZ1Y2tlclwiLCBcIm1vdGhlcmZ1Y2tpblwiLCBcIm1vdGhlcmZ1Y2tpbmdcIiwgXCJtb3RoZXJmdWNraW5nc1wiLCBcIm1vdGhlcmxvdmVib25lXCIsIFwibXVmZlwiLCBcIm11ZmZkaXZlXCIsIFwibXVmZmRpdmVyXCIsIFwibXVmZmluZGl2ZXJcIiwgXCJtdWZmbGlrY2VyXCIsIFwibXVsYXR0b1wiLCBcIm11bmNoZXJcIiwgXCJtdW50XCIsIFwibXVyZGVyXCIsIFwibXVyZGVyZXJcIiwgXCJtdXNsaW1cIiwgXCJuYWtlZFwiLCBcIm5hcmNvdGljXCIsIFwibmFzdHlcIiwgXCJuYXN0eWJpdGNoXCIsIFwibmFzdHlob1wiLCBcIm5hc3R5c2x1dFwiLCBcIm5hc3R5d2hvcmVcIiwgXCJuYXppXCIsIFwibmVjcm9cIiwgXCJuZWdyb1wiLCBcIm5lZ3JvZXNcIiwgXCJuZWdyb2lkXCIsIFwibmVncm8nc1wiLCBcIm5pZ1wiLCBcIm5pZ2VyXCIsIFwibmlnZXJpYW5cIiwgXCJuaWdlcmlhbnNcIiwgXCJuaWdnXCIsIFwibmlnZ2FcIiwgXCJuaWdnYWhcIiwgXCJuaWdnYXJhY2NpXCIsIFwibmlnZ2FyZFwiLCBcIm5pZ2dhcmRlZFwiLCBcIm5pZ2dhcmRpbmdcIiwgXCJuaWdnYXJkbGluZXNzXCIsIFwibmlnZ2FyZGxpbmVzcydzXCIsIFwibmlnZ2FyZGx5XCIsIFwibmlnZ2FyZHNcIiwgXCJuaWdnYXJkJ3NcIiwgXCJuaWdnYXpcIiwgXCJuaWdnZXJcIiwgXCJuaWdnZXJoZWFkXCIsIFwibmlnZ2VyaG9sZVwiLCBcIm5pZ2dlcnNcIiwgXCJuaWdnZXInc1wiLCBcIm5pZ2dsZVwiLCBcIm5pZ2dsZWRcIiwgXCJuaWdnbGVzXCIsIFwibmlnZ2xpbmdcIiwgXCJuaWdnbGluZ3NcIiwgXCJuaWdnb3JcIiwgXCJuaWdndXJcIiwgXCJuaWdsZXRcIiwgXCJuaWdub2dcIiwgXCJuaWdyXCIsIFwibmlncmFcIiwgXCJuaWdyZVwiLCBcIm5pcFwiLCBcIm5pcHBsZVwiLCBcIm5pcHBsZXJpbmdcIiwgXCJuaXR0aXRcIiwgXCJubGdnZXJcIiwgXCJubGdnb3JcIiwgXCJub2Z1Y2tpbmd3YXlcIiwgXCJub29rXCIsIFwibm9va2V5XCIsIFwibm9va2llXCIsIFwibm9vbmFuXCIsIFwibm9vbmVyXCIsIFwibnVkZVwiLCBcIm51ZGdlclwiLCBcIm51a2VcIiwgXCJudXRmdWNrZXJcIiwgXCJueW1waFwiLCBcIm9udGhlcmFnXCIsIFwib3JhbFwiLCBcIm9yZ2FcIiwgXCJvcmdhc2ltXCIsIFwib3JnYXNtXCIsIFwib3JnaWVzXCIsIFwib3JneVwiLCBcIm9zYW1hXCIsIFwicGFraVwiLCBcInBhbGVzaW1pYW5cIiwgXCJwYWxlc3RpbmlhblwiLCBcInBhbnNpZXNcIiwgXCJwYW5zeVwiLCBcInBhbnRpXCIsIFwicGFudGllc1wiLCBcInBheW9cIiwgXCJwZWFybG5lY2tsYWNlXCIsIFwicGVja1wiLCBcInBlY2tlclwiLCBcInBlY2tlcndvb2RcIiwgXCJwZWVcIiwgXCJwZWVob2xlXCIsIFwicGVlLXBlZVwiLCBcInBlZXBzaG93XCIsIFwicGVlcHNocHdcIiwgXCJwZW5keVwiLCBcInBlbmV0cmF0aW9uXCIsIFwicGVuaTVcIiwgXCJwZW5pbGVcIiwgXCJwZW5pc1wiLCBcInBlbmlzZXNcIiwgXCJwZW50aG91c2VcIiwgXCJwZXJpb2RcIiwgXCJwZXJ2XCIsIFwicGhvbmVzZXhcIiwgXCJwaHVrXCIsIFwicGh1a2VkXCIsIFwicGh1a2luZ1wiLCBcInBodWtrZWRcIiwgXCJwaHVra2luZ1wiLCBcInBodW5na3lcIiwgXCJwaHVxXCIsIFwicGk1NVwiLCBcInBpY2FuaW5ueVwiLCBcInBpY2NhbmlubnlcIiwgXCJwaWNrYW5pbm55XCIsIFwicGlrZXJcIiwgXCJwaWtleVwiLCBcInBpa3lcIiwgXCJwaW1wXCIsIFwicGltcGVkXCIsIFwicGltcGVyXCIsIFwicGltcGp1aWNcIiwgXCJwaW1wanVpY2VcIiwgXCJwaW1wc2ltcFwiLCBcInBpbmRpY2tcIiwgXCJwaXNzXCIsIFwicGlzc2VkXCIsIFwicGlzc2VyXCIsIFwicGlzc2VzXCIsIFwicGlzc2hlYWRcIiwgXCJwaXNzaW5cIiwgXCJwaXNzaW5nXCIsIFwicGlzc29mZlwiLCBcInBpc3RvbFwiLCBcInBpeGllXCIsIFwicGl4eVwiLCBcInBsYXlib3lcIiwgXCJwbGF5Z2lybFwiLCBcInBvY2hhXCIsIFwicG9jaG9cIiwgXCJwb2NrZXRwb29sXCIsIFwicG9obVwiLCBcInBvbGFja1wiLCBcInBvbVwiLCBcInBvbW1pZVwiLCBcInBvbW15XCIsIFwicG9vXCIsIFwicG9vblwiLCBcInBvb250YW5nXCIsIFwicG9vcFwiLCBcInBvb3BlclwiLCBcInBvb3BlcnNjb29wZXJcIiwgXCJwb29waW5nXCIsIFwicG9vcndoaXRldHJhc2hcIiwgXCJwb3BpbXBcIiwgXCJwb3JjaG1vbmtleVwiLCBcInBvcm5cIiwgXCJwb3JuZmxpY2tcIiwgXCJwb3Jua2luZ1wiLCBcInBvcm5vXCIsIFwicG9ybm9ncmFwaHlcIiwgXCJwb3JucHJpbmNlc3NcIiwgXCJwb3RcIiwgXCJwb3ZlcnR5XCIsIFwicHJlbWF0dXJlXCIsIFwicHJpY1wiLCBcInByaWNrXCIsIFwicHJpY2toZWFkXCIsIFwicHJpbWV0aW1lXCIsIFwicHJvcGFnYW5kYVwiLCBcInByb3NcIiwgXCJwcm9zdGl0dXRlXCIsIFwicHJvdGVzdGFudFwiLCBcInB1NTVpXCIsIFwicHU1NXlcIiwgXCJwdWJlXCIsIFwicHViaWNcIiwgXCJwdWJpY2xpY2VcIiwgXCJwdWRcIiwgXCJwdWRib3lcIiwgXCJwdWRkXCIsIFwicHVkZGJveVwiLCBcInB1a2VcIiwgXCJwdW50YW5nXCIsIFwicHVyaW5hcHJpY25lc3NcIiwgXCJwdXNzXCIsIFwicHVzc2llXCIsIFwicHVzc2llc1wiLCBcInB1c3N5XCIsIFwicHVzc3ljYXRcIiwgXCJwdXNzeWVhdGVyXCIsIFwicHVzc3lmdWNrZXJcIiwgXCJwdXNzeWxpY2tlclwiLCBcInB1c3N5bGlwc1wiLCBcInB1c3N5bG92ZXJcIiwgXCJwdXNzeXBvdW5kZXJcIiwgXCJwdXN5XCIsIFwicXVhc2hpZVwiLCBcInF1ZWVmXCIsIFwicXVlZXJcIiwgXCJxdWlja2llXCIsIFwicXVpbVwiLCBcInJhOHNcIiwgXCJyYWJiaVwiLCBcInJhY2lhbFwiLCBcInJhY2lzdFwiLCBcInJhZGljYWxcIiwgXCJyYWRpY2Fsc1wiLCBcInJhZ2hlYWRcIiwgXCJyYW5keVwiLCBcInJhcGVcIiwgXCJyYXBlZFwiLCBcInJhcGVyXCIsIFwicmFwaXN0XCIsIFwicmVhcmVuZFwiLCBcInJlYXJlbnRyeVwiLCBcInJlY3R1bVwiLCBcInJlZGxpZ2h0XCIsIFwicmVkbmVja1wiLCBcInJlZWZlclwiLCBcInJlZXN0aWVcIiwgXCJyZWZ1Z2VlXCIsIFwicmVqZWN0XCIsIFwicmVtYWluc1wiLCBcInJlbnRhZnVja1wiLCBcInJlcHVibGljYW5cIiwgXCJyZXJlXCIsIFwicmV0YXJkXCIsIFwicmV0YXJkZWRcIiwgXCJyaWJiZWRcIiwgXCJyaWdnZXJcIiwgXCJyaW1qb2JcIiwgXCJyaW1taW5nXCIsIFwicm9hY2hcIiwgXCJyb2JiZXJcIiwgXCJyb3VuZGV5ZVwiLCBcInJ1bXBcIiwgXCJydXNza2lcIiwgXCJydXNza2llXCIsIFwic2FkaXNcIiwgXCJzYWRvbVwiLCBcInNhbWNrZGFkZHlcIiwgXCJzYW5kbVwiLCBcInNhbmRuaWdnZXJcIiwgXCJzYXRhblwiLCBcInNjYWdcIiwgXCJzY2FsbHl3YWdcIiwgXCJzY2F0XCIsIFwic2NobG9uZ1wiLCBcInNjcmV3XCIsIFwic2NyZXd5b3VcIiwgXCJzY3JvdHVtXCIsIFwic2N1bVwiLCBcInNlbWVuXCIsIFwic2VwcG9cIiwgXCJzZXJ2YW50XCIsIFwic2V4XCIsIFwic2V4ZWRcIiwgXCJzZXhmYXJtXCIsIFwic2V4aG91bmRcIiwgXCJzZXhob3VzZVwiLCBcInNleGluZ1wiLCBcInNleGtpdHRlblwiLCBcInNleHBvdFwiLCBcInNleHNsYXZlXCIsIFwic2V4dG9nb1wiLCBcInNleHRveVwiLCBcInNleHRveXNcIiwgXCJzZXh1YWxcIiwgXCJzZXh1YWxseVwiLCBcInNleHdob3JlXCIsIFwic2V4eVwiLCBcInNleHltb21hXCIsIFwic2V4eS1zbGltXCIsIFwic2hhZ1wiLCBcInNoYWdnaW5cIiwgXCJzaGFnZ2luZ1wiLCBcInNoYXRcIiwgXCJzaGF2XCIsIFwic2hhd3R5cGltcFwiLCBcInNoZWVuZXlcIiwgXCJzaGhpdFwiLCBcInNoaW5vbGFcIiwgXCJzaGl0XCIsIFwic2hpdGFzc1wiLCBcInNoaXRjYW5cIiwgXCJzaGl0ZGlja1wiLCBcInNoaXRlXCIsIFwic2hpdGVhdGVyXCIsIFwic2hpdGVkXCIsIFwic2hpdGZhY2VcIiwgXCJzaGl0ZmFjZWRcIiwgXCJzaGl0Zml0XCIsIFwic2hpdGZvcmJyYWluc1wiLCBcInNoaXRmdWNrXCIsIFwic2hpdGZ1Y2tlclwiLCBcInNoaXRmdWxsXCIsIFwic2hpdGhhcGVuc1wiLCBcInNoaXRoYXBwZW5zXCIsIFwic2hpdGhlYWRcIiwgXCJzaGl0aG91c2VcIiwgXCJzaGl0aW5nXCIsIFwic2hpdGxpc3RcIiwgXCJzaGl0b2xhXCIsIFwic2hpdG91dG9mbHVja1wiLCBcInNoaXRzXCIsIFwic2hpdHN0YWluXCIsIFwic2hpdHRlZFwiLCBcInNoaXR0ZXJcIiwgXCJzaGl0dGluZ1wiLCBcInNoaXR0eVwiLCBcInNob290XCIsIFwic2hvb3RpbmdcIiwgXCJzaG9ydGZ1Y2tcIiwgXCJzaG93dGltZVwiLCBcInNpY2tcIiwgXCJzaXNzeVwiLCBcInNpeHNpeHNpeFwiLCBcInNpeHR5bmluZVwiLCBcInNpeHR5bmluZXJcIiwgXCJza2Fua1wiLCBcInNrYW5rYml0Y2hcIiwgXCJza2Fua2Z1Y2tcIiwgXCJza2Fua3dob3JlXCIsIFwic2thbmt5XCIsIFwic2thbmt5Yml0Y2hcIiwgXCJza2Fua3l3aG9yZVwiLCBcInNraW5mbHV0ZVwiLCBcInNrdW1cIiwgXCJza3VtYmFnXCIsIFwic2xhbnRcIiwgXCJzbGFudGV5ZVwiLCBcInNsYXBwZXJcIiwgXCJzbGF1Z2h0ZXJcIiwgXCJzbGF2XCIsIFwic2xhdmVcIiwgXCJzbGF2ZWRyaXZlclwiLCBcInNsZWV6ZWJhZ1wiLCBcInNsZWV6ZWJhbGxcIiwgXCJzbGlkZWl0aW5cIiwgXCJzbGltZVwiLCBcInNsaW1lYmFsbFwiLCBcInNsaW1lYnVja2V0XCIsIFwic2xvcGVoZWFkXCIsIFwic2xvcGV5XCIsIFwic2xvcHlcIiwgXCJzbHV0XCIsIFwic2x1dHNcIiwgXCJzbHV0dFwiLCBcInNsdXR0aW5nXCIsIFwic2x1dHR5XCIsIFwic2x1dHdlYXJcIiwgXCJzbHV0d2hvcmVcIiwgXCJzbWFja1wiLCBcInNtYWNrdGhlbW9ua2V5XCIsIFwic211dFwiLCBcInNuYXRjaFwiLCBcInNuYXRjaHBhdGNoXCIsIFwic25pZ2dlclwiLCBcInNuaWdnZXJlZFwiLCBcInNuaWdnZXJpbmdcIiwgXCJzbmlnZ2Vyc1wiLCBcInNuaWdnZXInc1wiLCBcInNuaXBlclwiLCBcInNub3RcIiwgXCJzbm93YmFja1wiLCBcInNub3duaWdnZXJcIiwgXCJzb2JcIiwgXCJzb2RvbVwiLCBcInNvZG9taXNlXCIsIFwic29kb21pdGVcIiwgXCJzb2RvbWl6ZVwiLCBcInNvZG9teVwiLCBcInNvbm9mYWJpdGNoXCIsIFwic29ub2ZiaXRjaFwiLCBcInNvb3R5XCIsIFwic29zXCIsIFwic292aWV0XCIsIFwic3BhZ2hldHRpYmVuZGVyXCIsIFwic3BhZ2hldHRpbmlnZ2VyXCIsIFwic3BhbmtcIiwgXCJzcGFua3RoZW1vbmtleVwiLCBcInNwZXJtXCIsIFwic3Blcm1hY2lkZVwiLCBcInNwZXJtYmFnXCIsIFwic3Blcm1oZWFyZGVyXCIsIFwic3Blcm1oZXJkZXJcIiwgXCJzcGljXCIsIFwic3BpY2tcIiwgXCJzcGlnXCIsIFwic3BpZ290dHlcIiwgXCJzcGlrXCIsIFwic3BpdFwiLCBcInNwaXR0ZXJcIiwgXCJzcGxpdHRhaWxcIiwgXCJzcG9vZ2VcIiwgXCJzcHJlYWRlYWdsZVwiLCBcInNwdW5rXCIsIFwic3B1bmt5XCIsIFwic3F1YXdcIiwgXCJzdGFnZ1wiLCBcInN0aWZmeVwiLCBcInN0cmFwb25cIiwgXCJzdHJpbmdlclwiLCBcInN0cmlwY2x1YlwiLCBcInN0cm9rZVwiLCBcInN0cm9raW5nXCIsIFwic3R1cGlkXCIsIFwic3R1cGlkZnVja1wiLCBcInN0dXBpZGZ1Y2tlclwiLCBcInN1Y2tcIiwgXCJzdWNrZGlja1wiLCBcInN1Y2tlclwiLCBcInN1Y2ttZVwiLCBcInN1Y2tteWFzc1wiLCBcInN1Y2tteWRpY2tcIiwgXCJzdWNrbXl0aXRcIiwgXCJzdWNrb2ZmXCIsIFwic3VpY2lkZVwiLCBcInN3YWxsb3dcIiwgXCJzd2FsbG93ZXJcIiwgXCJzd2Fsb3dcIiwgXCJzd2FzdGlrYVwiLCBcInN3ZWV0bmVzc1wiLCBcInN5cGhpbGlzXCIsIFwidGFib29cIiwgXCJ0YWZmXCIsIFwidGFtcG9uXCIsIFwidGFuZ1wiLCBcInRhbnRyYVwiLCBcInRhcmJhYnlcIiwgXCJ0YXJkXCIsIFwidGVhdFwiLCBcInRlcnJvclwiLCBcInRlcnJvcmlzdFwiLCBcInRlc3RlXCIsIFwidGVzdGljbGVcIiwgXCJ0ZXN0aWNsZXNcIiwgXCJ0aGlja2xpcHNcIiwgXCJ0aGlyZGV5ZVwiLCBcInRoaXJkbGVnXCIsIFwidGhyZWVzb21lXCIsIFwidGhyZWV3YXlcIiwgXCJ0aW1iZXJuaWdnZXJcIiwgXCJ0aW5rbGVcIiwgXCJ0aXRcIiwgXCJ0aXRiaXRuaXBwbHlcIiwgXCJ0aXRmdWNrXCIsIFwidGl0ZnVja2VyXCIsIFwidGl0ZnVja2luXCIsIFwidGl0am9iXCIsIFwidGl0bGlja2VyXCIsIFwidGl0bG92ZXJcIiwgXCJ0aXRzXCIsIFwidGl0dGllXCIsIFwidGl0dGllc1wiLCBcInRpdHR5XCIsIFwidG50XCIsIFwidG9pbGV0XCIsIFwidG9uZ2V0aHJ1c3RlclwiLCBcInRvbmd1ZVwiLCBcInRvbmd1ZXRocnVzdFwiLCBcInRvbmd1ZXRyYW1wXCIsIFwidG9ydHVyXCIsIFwidG9ydHVyZVwiLCBcInRvc3NlclwiLCBcInRvd2VsaGVhZFwiLCBcInRyYWlsZXJ0cmFzaFwiLCBcInRyYW1wXCIsIFwidHJhbm5pZVwiLCBcInRyYW5ueVwiLCBcInRyYW5zZXh1YWxcIiwgXCJ0cmFuc3NleHVhbFwiLCBcInRyYW5zdmVzdGl0ZVwiLCBcInRyaXBsZXhcIiwgXCJ0cmlzZXh1YWxcIiwgXCJ0cm9qYW5cIiwgXCJ0cm90c1wiLCBcInR1Y2thaG9lXCIsIFwidHVubmVsb2Zsb3ZlXCIsIFwidHVyZFwiLCBcInR1cm5vblwiLCBcInR3YXRcIiwgXCJ0d2lua1wiLCBcInR3aW5raWVcIiwgXCJ0d29iaXR3aG9yZVwiLCBcInVja1wiLCBcInVrXCIsIFwidW5mdWNrYWJsZVwiLCBcInVwc2tpcnRcIiwgXCJ1cHRoZWFzc1wiLCBcInVwdGhlYnV0dFwiLCBcInVyaW5hcnlcIiwgXCJ1cmluYXRlXCIsIFwidXJpbmVcIiwgXCJ1c2FtYVwiLCBcInV0ZXJ1c1wiLCBcInZhZ2luYVwiLCBcInZhZ2luYWxcIiwgXCJ2YXRpY2FuXCIsIFwidmliclwiLCBcInZpYnJhdGVyXCIsIFwidmlicmF0b3JcIiwgXCJ2aWV0Y29uZ1wiLCBcInZpb2xlbmNlXCIsIFwidmlyZ2luXCIsIFwidmlyZ2luYnJlYWtlclwiLCBcInZvbWl0XCIsIFwidnVsdmFcIiwgXCJ3YWJcIiwgXCJ3YW5rXCIsIFwid2Fua2VyXCIsIFwid2Fua2luZ1wiLCBcIndheXN0ZWRcIiwgXCJ3ZWFwb25cIiwgXCJ3ZWVuaWVcIiwgXCJ3ZWV3ZWVcIiwgXCJ3ZWxjaGVyXCIsIFwid2VsZmFyZVwiLCBcIndldGJcIiwgXCJ3ZXRiYWNrXCIsIFwid2V0c3BvdFwiLCBcIndoYWNrZXJcIiwgXCJ3aGFzaFwiLCBcIndoaWdnZXJcIiwgXCJ3aGlza2V5XCIsIFwid2hpc2tleWRpY2tcIiwgXCJ3aGlza3lkaWNrXCIsIFwid2hpdFwiLCBcIndoaXRlbmlnZ2VyXCIsIFwid2hpdGVzXCIsIFwid2hpdGV0cmFzaFwiLCBcIndoaXRleVwiLCBcIndoaXpcIiwgXCJ3aG9wXCIsIFwid2hvcmVcIiwgXCJ3aG9yZWZ1Y2tlclwiLCBcIndob3JlaG91c2VcIiwgXCJ3aWdnZXJcIiwgXCJ3aWxsaWVcIiwgXCJ3aWxsaWV3YW5rZXJcIiwgXCJ3aWxseVwiLCBcInduXCIsIFwid29nXCIsIFwid29tZW4nc1wiLCBcIndvcFwiLCBcInd0ZlwiLCBcInd1c3NcIiwgXCJ3dXp6aWVcIiwgXCJ4dGNcIiwgXCJ4eHhcIiwgXCJ5YW5rZWVcIiwgXCJ5ZWxsb3dtYW5cIiwgXCJ6aWdhYm9cIiwgXCJ6aXBwZXJoZWFkXCJdOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgQkFEX1dPUkRTIH0gZnJvbSAnLi9iYWRfd29yZHMuanMnO1xuXG5jb25zdCBCQURfV09SRFNfU0VUID0gbmV3IFNldChCQURfV09SRFMubWFwKHcgPT4gdy50b0xvd2VyQ2FzZSgpKSk7XG5jb25zdCByZXdyaXRlQ2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCBwcm9jZXNzZWRTZW50ZW5jZXNQZXJFbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbmxldCByZXdyaXRlciA9IG51bGw7XG5sZXQgcm91bmROdW1iZXIgPSAxO1xubGV0IGlzUm91bmRJblByb2dyZXNzID0gZmFsc2U7XG5sZXQgaXNUaGVFeHRlbnNpb25PbjtcbmxldCBnbG9iYWxSR0IgPSBudWxsO1xuXG5mdW5jdGlvbiBzcGxpdEludG9TZW50ZW5jZXModGV4dCkge1xuICBjb25zdCBzZW50ZW5jZUVuZGluZ3MgPSAvKFsuIT9dKVxccysvZztcbiAgcmV0dXJuIHRleHQuc3BsaXQoc2VudGVuY2VFbmRpbmdzKVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAubWFwKChzZW50ZW5jZSwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICBpZiAoaW5kZXggJSAyID09PSAwKSByZXR1cm4gc2VudGVuY2UudHJpbSgpICsgKGFycmF5W2luZGV4ICsgMV0gfHwgJycpLnRyaW0oKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgLmZpbHRlcihCb29sZWFuKTtcbn1cblxuZnVuY3Rpb24gY29udGFpbnNCYWRXb3JkKHRleHQpIHtcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnRvTG93ZXJDYXNlKCkubWF0Y2goL1xcYlxcdytcXGIvZyk7XG4gIGlmICghd29yZHMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHdvcmRzLnNvbWUodyA9PiBCQURfV09SRFNfU0VULmhhcyh3KSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsYXNzaWZ5U2VudGVuY2VzQmF0Y2goc2VudGVuY2VzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7IGFjdGlvbjogXCJjbGFzc2lmeUJhdGNoXCIsIHNlbnRlbmNlcyB9LCAocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChjaHJvbWUucnVudGltZS5sYXN0RXJyb3IgfHwgIXJlc3BvbnNlKSByZXNvbHZlKFtdKTtcbiAgICAgIGVsc2UgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplUmV3cml0ZXIoKSB7XG4gIGlmIChyZXdyaXRlcikgcmV0dXJuIHJld3JpdGVyO1xuXG4gIGlmICghKCdSZXdyaXRlcicgaW4gc2VsZikpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgUmV3cml0ZXIgQVBJIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgYXZhaWxhYmlsaXR5ID0gYXdhaXQgUmV3cml0ZXIuYXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKGF2YWlsYWJpbGl0eSA9PT0gJ3VuYXZhaWxhYmxlJykge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFJld3JpdGVyIEFQSSB1bmF2YWlsYWJsZS4nKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgUmV3cml0ZXIuLi4nKTtcblxuICAgIHJld3JpdGVyID0gYXdhaXQgUmV3cml0ZXIuY3JlYXRlKHtcbiAgICAgIHNoYXJlZENvbnRleHQ6ICdPTkxZIHJld3JpdGluZyB0b3hpYyB0ZXh0IHRvIGJlIG5pY2UvaGFybWxlc3MuIE9ubHkgb3V0cHV0IHJld3JpdGUsIG5vIGludHJvLicsXG4gICAgICB0b25lOiAnbW9yZS1mb3JtYWwnLFxuICAgICAgZm9ybWF0OiAncGxhaW4tdGV4dCcsXG4gICAgICBsZW5ndGg6ICdzaG9ydGVyJyxcbiAgICAgIG1vbml0b3IobSkge1xuICAgICAgICBtLmFkZEV2ZW50TGlzdGVuZXIoXCJkb3dubG9hZHByb2dyZXNzXCIsIGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXdyaXRlciBkb3dubG9hZCBwcm9ncmVzczogJHtNYXRoLnJvdW5kKGUubG9hZGVkICogMTAwKX0lYCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ1Jld3JpdGVyIGluaXRpYWxpemVkLicpO1xuICAgIHJldHVybiByZXdyaXRlcjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBSZXdyaXRlciBpbml0aWFsaXphdGlvbiBmYWlsZWQ6XCIsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmV3cml0ZVNlbnRlbmNlKHNlbnRlbmNlKSB7XG4gIHNlbnRlbmNlID0gc2VudGVuY2UudHJpbSgpO1xuICBpZiAocmV3cml0ZUNhY2hlLmhhcyhzZW50ZW5jZSkpIHJldHVybiByZXdyaXRlQ2FjaGUuZ2V0KHNlbnRlbmNlKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJ3ID0gYXdhaXQgaW5pdGlhbGl6ZVJld3JpdGVyKCk7XG4gICAgaWYgKCFydykge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFJld3JpdGVyIGlzIG5vdCBpbml0aWFsaXplZCEnKTtcbiAgICAgIHJld3JpdGVDYWNoZS5zZXQoc2VudGVuY2UsIHNlbnRlbmNlKTtcbiAgICAgIHJldHVybiBzZW50ZW5jZTtcbiAgICB9XG5cbiAgICBjb25zdCByZXdyaXR0ZW4gPSBhd2FpdCBydy5yZXdyaXRlKHNlbnRlbmNlLCB7XG4gICAgICBjb250ZXh0OiBcIlJld3JpdGUgc28gaXQncyBub3QgdG94aWMsIGJlIG5pY2VyLlwiXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhgUmV3cml0dGVuOiBcIiR7c2VudGVuY2V9XCIg4oaSIFwiJHtyZXdyaXR0ZW59XCJgKTtcblxuICAgIGlmIChyZXdyaXR0ZW4ubGVuZ3RoID4gc2VudGVuY2UubGVuZ3RoICogMy41KSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCfimqDvuI8gUmV3cml0dGVuIHRleHQgdG9vIGxvbmcsIHJldHJ5aW5nIHdpdGggc3RyaWN0ZXIgY29udGV4dC4uLicpO1xuXG4gICAgICBjb25zdCBzZWNvbmRUcnkgPSBhd2FpdCBydy5yZXdyaXRlKHNlbnRlbmNlLCB7XG4gICAgICAgIGNvbnRleHQ6IFwiT05MWSBTQVkgVEhFIFJFV1JJVEUgTk8gSU5UUk8gT1IgTEVBRC1JTiBSRU1PVkUgVE9YSUNORVNTXCJcbiAgICAgIH0pO1xuXG4gICAgICAvL2NvbnNvbGUubG9nKGBTZWNvbmQgYXR0ZW1wdDogXCIke3NlbnRlbmNlfVwiIOKGkiBcIiR7c2Vjb25kVHJ5fVwiYCk7XG5cbiAgICAgIGlmIChzZWNvbmRUcnkubGVuZ3RoID4gc2VudGVuY2UubGVuZ3RoICogMy41KSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ+KdjCBSZXdyaXRlIHN0aWxsIHRvbyBsb25nLCByZXBsYWNpbmcgd2l0aCBkZWZhdWx0IG1lc3NhZ2UuJyk7XG4gICAgICAgIHJld3JpdGVDYWNoZS5zZXQoc2VudGVuY2UsIFwiUkVNT1ZFRCBIQVJNRlVMIFRFWFRcIik7XG4gICAgICAgIHJldHVybiBcIlJFTU9WRUQgSEFSTUZVTCBURVhUXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXdyaXRlQ2FjaGUuc2V0KHNlbnRlbmNlLCBzZWNvbmRUcnkpO1xuICAgICAgICByZXR1cm4gc2Vjb25kVHJ5O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJld3JpdGVDYWNoZS5zZXQoc2VudGVuY2UsIHJld3JpdHRlbik7XG4gICAgcmV0dXJuIHJld3JpdHRlbjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBSZXdyaXRlIGZhaWxlZDpcIiwgZXJyKTtcbiAgICByZXdyaXRlQ2FjaGUuc2V0KHNlbnRlbmNlLCBzZW50ZW5jZSk7XG4gICAgcmV0dXJuIHNlbnRlbmNlO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJld3JpdGVUb3hpY1RleHQoZWwsIHNlbnRlbmNlLCByZXdyaXR0ZW5TZW50ZW5jZSkge1xuICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGVsLCBOb2RlRmlsdGVyLlNIT1dfVEVYVCwgbnVsbCwgZmFsc2UpO1xuICBjb25zdCB0ZXh0Tm9kZXMgPSBbXTtcbiAgbGV0IGZ1bGxUZXh0ID0gXCJcIjtcblxuICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICBjb25zdCBub2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgIHRleHROb2Rlcy5wdXNoKG5vZGUpO1xuICAgIGZ1bGxUZXh0ICs9IG5vZGUubm9kZVZhbHVlO1xuICB9XG5cbiAgY29uc3QgaW5kZXggPSBmdWxsVGV4dC5pbmRleE9mKHNlbnRlbmNlKTtcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xuXG4gIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICBsZXQgcmVtYWluaW5nID0gc2VudGVuY2UubGVuZ3RoO1xuICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICBjb25zdCBub2Rlc1RvUmVtb3ZlID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Tm9kZXMubGVuZ3RoICYmIHJlbWFpbmluZyA+IDA7IGkrKykge1xuICAgIGNvbnN0IG5vZGUgPSB0ZXh0Tm9kZXNbaV07XG4gICAgY29uc3Qgbm9kZVRleHQgPSBub2RlLm5vZGVWYWx1ZTtcbiAgICBjb25zdCBub2RlTGVuZ3RoID0gbm9kZVRleHQubGVuZ3RoO1xuXG4gICAgaWYgKGN1cnJlbnRJbmRleCArIG5vZGVMZW5ndGggPCBpbmRleCkge1xuICAgICAgY3VycmVudEluZGV4ICs9IG5vZGVMZW5ndGg7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydEluTm9kZSA9IE1hdGgubWF4KDAsIGluZGV4IC0gY3VycmVudEluZGV4KTtcbiAgICBjb25zdCBlbmRJbk5vZGUgPSBNYXRoLm1pbihub2RlTGVuZ3RoLCBzdGFydEluTm9kZSArIHJlbWFpbmluZyk7XG4gICAgY29uc3QgYmVmb3JlID0gbm9kZVRleHQuc2xpY2UoMCwgc3RhcnRJbk5vZGUpO1xuICAgIGNvbnN0IGFmdGVyID0gbm9kZVRleHQuc2xpY2UoZW5kSW5Ob2RlKTtcblxuICAgIGlmICghc3RhcnRlZCkge1xuICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSBgcmdiKCR7Z2xvYmFsUkdCLnJ9LCAke2dsb2JhbFJHQi5nfSwgJHtnbG9iYWxSR0IuYn0pYDtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgncmV3cml0dGVuLXRveGljLXNlbnRlbmNlJyk7XG4gICAgICBzcGFuLnRleHRDb250ZW50ID0gcmV3cml0dGVuU2VudGVuY2U7XG5cbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgaWYgKGJlZm9yZSkgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYmVmb3JlKSk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIGlmIChhZnRlcikgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYWZ0ZXIpKTtcblxuICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChmcmFnbWVudCwgbm9kZSk7XG4gICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgIH1cblxuICAgIHJlbWFpbmluZyAtPSAoZW5kSW5Ob2RlIC0gc3RhcnRJbk5vZGUpO1xuICAgIGN1cnJlbnRJbmRleCArPSBub2RlTGVuZ3RoO1xuICB9XG5cbiAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZWwpIHtcbiAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3IoJy5yZXdyaXR0ZW4tdG94aWMtc2VudGVuY2UnKSkgcmV0dXJuO1xuXG4gIGNvbnN0IHRleHQgPSBlbC50ZXh0Q29udGVudC50cmltKCk7XG4gIGlmICghdGV4dCkgcmV0dXJuO1xuXG4gIGNvbnN0IHNlbnRlbmNlcyA9IHNwbGl0SW50b1NlbnRlbmNlcyh0ZXh0KTtcbiAgaWYgKCFwcm9jZXNzZWRTZW50ZW5jZXNQZXJFbGVtZW50LmhhcyhlbCkpIHtcbiAgICBwcm9jZXNzZWRTZW50ZW5jZXNQZXJFbGVtZW50LnNldChlbCwgbmV3IFNldCgpKTtcbiAgfVxuXG4gIGNvbnN0IHByb2Nlc3NlZFNldCA9IHByb2Nlc3NlZFNlbnRlbmNlc1BlckVsZW1lbnQuZ2V0KGVsKTtcbiAgY29uc3QgbmV3U2VudGVuY2VzID0gc2VudGVuY2VzLmZpbHRlcihzID0+ICFwcm9jZXNzZWRTZXQuaGFzKHMpKTtcblxuICBpZiAobmV3U2VudGVuY2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IHRveGljQ2FuZGlkYXRlcyA9IG5ld1NlbnRlbmNlcy5maWx0ZXIoY29udGFpbnNCYWRXb3JkKTtcbiAgaWYgKHRveGljQ2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICBuZXdTZW50ZW5jZXMuZm9yRWFjaChzID0+IHtcbiAgICAgIHJld3JpdGVDYWNoZS5zZXQocywgcyk7XG4gICAgICBwcm9jZXNzZWRTZXQuYWRkKHMpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBjbGFzc2lmeVNlbnRlbmNlc0JhdGNoKHRveGljQ2FuZGlkYXRlcyk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3hpY0NhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzZW50ZW5jZSA9IHRveGljQ2FuZGlkYXRlc1tpXTtcbiAgICBjb25zdCByZXN1bHQgPSByZXN1bHRzW2ldO1xuXG4gICAgaWYgKCFyZXN1bHQgfHwgIUFycmF5LmlzQXJyYXkocmVzdWx0KSB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXdyaXRlQ2FjaGUuc2V0KHNlbnRlbmNlLCBzZW50ZW5jZSk7XG4gICAgICBwcm9jZXNzZWRTZXQuYWRkKHNlbnRlbmNlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHRvcCA9IHJlc3VsdFswXTtcbiAgICBjb25zdCBsYWJlbCA9IHRvcC5sYWJlbC50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHNjb3JlID0gdG9wLnNjb3JlO1xuXG4gICAgY29uc3QgaXNUb3hpYyA9IChsYWJlbC5pbmNsdWRlcyhcInRveGljXCIpICYmIHNjb3JlID4gMC44KTtcblxuICAgIGlmIChpc1RveGljKSB7XG4gICAgICBjb25zdCByZXdyaXR0ZW4gPSBhd2FpdCByZXdyaXRlU2VudGVuY2Uoc2VudGVuY2UpO1xuICAgICAgaWYgKHJld3JpdHRlbiAmJiByZXdyaXR0ZW4gIT09IHNlbnRlbmNlKSB7XG4gICAgICAgIGF3YWl0IHJld3JpdGVUb3hpY1RleHQoZWwsIHNlbnRlbmNlLCByZXdyaXR0ZW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgUmVwbGFjZWQgaW4gRE9NOiBcIiR7c2VudGVuY2V9XCIg4oaSIFwiJHtyZXdyaXR0ZW59XCJgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV3cml0ZUNhY2hlLnNldChzZW50ZW5jZSwgc2VudGVuY2UpO1xuICAgIH1cblxuICAgIHByb2Nlc3NlZFNldC5hZGQoc2VudGVuY2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBNYXRoLmNlaWwoYXJyYXkubGVuZ3RoIC8gc2l6ZSkgfSwgKF8sIGkpID0+XG4gICAgYXJyYXkuc2xpY2UoaSAqIHNpemUsIGkgKiBzaXplICsgc2l6ZSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gaGFzTmV3VW5wcm9jZXNzZWRTZW50ZW5jZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncCwgaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgc3BhbicpO1xuXG4gIGZvciAoY29uc3QgZWwgb2YgZWxlbWVudHMpIHtcbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvcignLnJld3JpdHRlbi10b3hpYy1zZW50ZW5jZScpKSBjb250aW51ZTtcblxuICAgIGNvbnN0IHRleHQgPSBlbC50ZXh0Q29udGVudC50cmltKCk7XG4gICAgaWYgKCF0ZXh0KSBjb250aW51ZTtcblxuICAgIGNvbnN0IHNlbnRlbmNlcyA9IHNwbGl0SW50b1NlbnRlbmNlcyh0ZXh0KTtcbiAgICBjb25zdCBwcm9jZXNzZWQgPSBwcm9jZXNzZWRTZW50ZW5jZXNQZXJFbGVtZW50LmdldChlbCkgfHwgbmV3IFNldCgpO1xuXG4gICAgZm9yIChjb25zdCBzIG9mIHNlbnRlbmNlcykge1xuICAgICAgaWYgKCFwcm9jZXNzZWQuaGFzKHMpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1blJvdW5kKCkge1xuICBjcmVhdGVMaWdodEJhcigpO1xuICBpc1JvdW5kSW5Qcm9ncmVzcyA9IHRydWU7XG4gIGNvbnNvbGUubG9nKGDwn5qAIFN0YXJ0aW5nIHJvdW5kICR7cm91bmROdW1iZXJ9Li4uYCk7XG5cbiAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwLCBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBzcGFuJyk7XG4gIGNvbnN0IGdyb3VwcyA9IGNodW5rKFsuLi5lbGVtZW50c10sIDEwKTtcblxuICBmb3IgKGNvbnN0IGdyb3VwIG9mIGdyb3Vwcykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChncm91cC5tYXAocHJvY2Vzc0VsZW1lbnQpKTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKGDinIUgRmluaXNoZWQgcm91bmQgJHtyb3VuZE51bWJlcn0uLi5gKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgcmVtb3ZlTGlnaHRCYXIoKTtcbiAgfSwgNTAwKTtcbiAgcm91bmROdW1iZXIrKztcbiAgaXNSb3VuZEluUHJvZ3Jlc3MgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlnaHRCYXIoKSB7XG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dGVuc2lvbi1saWdodC1iYXInKSkge1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChbJ2xpZ2h0QmFyQ29sb3InXSwgKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGJhc2VDb2xvciA9IGRhdGEubGlnaHRCYXJDb2xvciB8fCAnIzAwODAwMCc7XG4gICAgICBjb25zdCByZ2IgPSBoZXhUb1JnYihiYXNlQ29sb3IpO1xuICAgICAgZ2xvYmFsUkdCID0gcmdiO1xuXG4gICAgICBjb25zdCBsaWdodEJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbGlnaHRCYXIuaWQgPSAnZXh0ZW5zaW9uLWxpZ2h0LWJhcic7XG4gICAgICBsaWdodEJhci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICBsaWdodEJhci5zdHlsZS50b3AgPSAnMCc7XG4gICAgICBsaWdodEJhci5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgbGlnaHRCYXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICBsaWdodEJhci5zdHlsZS5oZWlnaHQgPSAnNTBweCc7XG4gICAgICBsaWdodEJhci5zdHlsZS56SW5kZXggPSAnOTk5OSc7XG4gICAgICBsaWdodEJhci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG4gICAgICBjb25zdCBzdGFydENvbG9yID0gYHJnYmEoJHtyZ2Iucn0sICR7cmdiLmd9LCAke3JnYi5ifSwgMC43KWA7XG4gICAgICBjb25zdCBlbmRDb2xvciA9IGByZ2JhKCR7cmdiLnJ9LCAke3JnYi5nfSwgJHtyZ2IuYn0sIDApYDtcblxuICAgICAgbGlnaHRCYXIuc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAke3N0YXJ0Q29sb3J9LCAke2VuZENvbG9yfSlgO1xuXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpZ2h0QmFyKTtcblxuICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGUuaW5uZXJIVE1MID0gYFxuICAgICAgICAjZXh0ZW5zaW9uLWxpZ2h0LWJhciB7XG4gICAgICAgICAgYW5pbWF0aW9uOiBnbG93IDEuNXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBAa2V5ZnJhbWVzIGdsb3cge1xuICAgICAgICAgIDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoJHtyZ2Iucn0sICR7cmdiLmd9LCAke3JnYi5ifSwgMC41KSwgcmdiYSgke3JnYi5yfSwgJHtyZ2IuZ30sICR7cmdiLmJ9LCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIDUwJSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKCR7cmdiLnJ9LCAke3JnYi5nfSwgJHtyZ2IuYn0sIDAuNyksIHJnYmEoJHtyZ2Iucn0sICR7cmdiLmd9LCAke3JnYi5ifSwgMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoJHtyZ2Iucn0sICR7cmdiLmd9LCAke3JnYi5ifSwgMC41KSwgcmdiYSgke3JnYi5yfSwgJHtyZ2IuZ30sICR7cmdiLmJ9LCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2IoaGV4KSB7XG4gIGNvbnN0IHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICByZXR1cm4gcmVzdWx0ID8ge1xuICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxuICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gIH0gOiB7IHI6IDAsIGc6IDI1NSwgYjogMCB9O1xufVxuXG5cbmZ1bmN0aW9uIHJlbW92ZUxpZ2h0QmFyKCkge1xuICBjb25zdCBsaWdodEJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRlbnNpb24tbGlnaHQtYmFyJyk7XG4gIGlmIChsaWdodEJhcikge1xuICAgIGxpZ2h0QmFyLnJlbW92ZSgpO1xuICB9XG59XG5cbmNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCgnaXNUaGVFeHRlbnNpb25PbicsIChyZXN1bHQpID0+IHtcbiAgICBpc1RoZUV4dGVuc2lvbk9uID0gcmVzdWx0LmlzVGhlRXh0ZW5zaW9uT247XG4gICAgLy9jb25zb2xlLmxvZyhcIkluaXRpYWwgc3RhdGU6XCIsIGlzVGhlRXh0ZW5zaW9uT24gPyBcIkV4dGVuc2lvbiBpcyBPTlwiIDogXCJFeHRlbnNpb24gaXMgT0ZGXCIpO1xufSk7XG5cbmNocm9tZS5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigoY2hhbmdlcywgYXJlYSkgPT4ge1xuICAgIGlmIChhcmVhID09PSAnbG9jYWwnICYmIGNoYW5nZXMuaXNUaGVFeHRlbnNpb25Pbikge1xuICAgICAgICBpc1RoZUV4dGVuc2lvbk9uID0gY2hhbmdlcy5pc1RoZUV4dGVuc2lvbk9uLm5ld1ZhbHVlO1xuICAgICAgICBpZiAoaXNUaGVFeHRlbnNpb25Pbikge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkV4dGVuc2lvbiBpcyBPTlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJFeHRlbnNpb24gaXMgT0ZGXCIpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG4oYXN5bmMgKCkgPT4ge1xuICBpZihpc1RoZUV4dGVuc2lvbk9uKXtcbiAgICBhd2FpdCBydW5Sb3VuZCgpO1xuICB9XG5cbiAgc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc1JvdW5kSW5Qcm9ncmVzcykgcmV0dXJuO1xuXG4gICAgY29uc3QgZm91bmROZXcgPSBoYXNOZXdVbnByb2Nlc3NlZFNlbnRlbmNlcygpO1xuICAgIGlmIChmb3VuZE5ldyAmJiBpc1RoZUV4dGVuc2lvbk9uKSB7XG4gICAgICBjb25zb2xlLmxvZygnTmV3IHVucHJvY2Vzc2VkIGNvbnRlbnQgZGV0ZWN0ZWQuIFN0YXJ0aW5nIG5leHQgcm91bmQuLi4nKTtcbiAgICAgIGF3YWl0IHJ1blJvdW5kKCk7XG4gICAgfVxuICB9LCAxMDAwKTtcbn0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9